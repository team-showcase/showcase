"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const index_1 = require("../common/index");
const page_1 = require("../../../../specification/common/page");
const controls_1 = require("../../export/controls");
const AnalyticalListPageChart_1 = require("../../../v2/export/controls/AnalyticalListPageChart");
const AnalyticalListPage_1 = require("../../export/pages/AnalyticalListPage");
const utils_1 = require("../../../common/utils");
function addSettings(analyticalListPageConfig, manifest, jsonSchema, pageKey) {
    // Check table settings from target structure
    analyticalListPageConfig.table = Object.assign(new controls_1.AnalyticalTable(), analyticalListPageConfig.table);
    index_1.transferSettingsOfObject(analyticalListPageConfig.table, manifest, jsonSchema['definitions']['AnalyticalTableALP<LineItems>'], pageKey);
    analyticalListPageConfig.filterBar = Object.assign(new controls_1.AnalyticalListPageFilterBar(), analyticalListPageConfig.filterBar);
    index_1.transferSettingsOfObject(analyticalListPageConfig.filterBar, manifest, jsonSchema['definitions']['AnalyticalListPageFilterBar'], pageKey);
    analyticalListPageConfig.chart = Object.assign(new AnalyticalListPageChart_1.ChartSettings(), analyticalListPageConfig.chart);
    index_1.transferSettingsOfObject(analyticalListPageConfig.chart, manifest, jsonSchema['definitions']['ChartSettings'], pageKey);
}
function createAnalyticalListPageConfig(manifest, flex, jsonSchema) {
    const v2Pages = manifest['sap.ui.generic.app'].pages;
    if (!v2Pages) {
        return;
    }
    const config = new AnalyticalListPage_1.AnalyticalListPage();
    for (const pageKey in v2Pages) {
        const v2Page = v2Pages[pageKey];
        if (utils_1.getPageTypeV2(v2Page.component.name) === page_1.PageType.AnalyticalListPage) {
            addSettings(config, manifest, jsonSchema, pageKey);
            flex.forEach((change) => {
                index_1.addFlex(config, change, jsonSchema);
            });
        }
    }
    return config;
}
exports.createAnalyticalListPageConfig = createAnalyticalListPageConfig;
//# sourceMappingURL=analyticalListPage.js.map