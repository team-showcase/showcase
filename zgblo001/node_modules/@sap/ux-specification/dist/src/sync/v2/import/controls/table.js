"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const types_1 = require("../../../common/types");
function addFlexForTable(config, change) {
    if (change.controlType.endsWith('Table')) {
        config[change.propertyId] = change.newValue;
    }
    else if (change.controlType === types_1.ControlType.TableColumn) {
        const idParts = change.controlId.split('-');
        const lastIdPart = idParts[idParts.length - 1];
        // As the last stable Id part is still too long in some cases, strip off the fixed parts.
        // It must the be added again by the export!
        const annotationPart = lastIdPart.split('template:::TableColumn:::');
        const colId = annotationPart[annotationPart.length - 1]
            .replace(/sSmartTableId.+?:::/, '')
            .replace('::com.sap.vocabularies', '::@com.sap.vocabularies');
        if (!config.columns) {
            config.columns = {};
        }
        if (!config.columns[colId]) {
            config.columns[colId] = {};
        }
        config.columns[colId][change.propertyId] = change.newValue;
    }
}
exports.addFlexForTable = addFlexForTable;
//# sourceMappingURL=table.js.map