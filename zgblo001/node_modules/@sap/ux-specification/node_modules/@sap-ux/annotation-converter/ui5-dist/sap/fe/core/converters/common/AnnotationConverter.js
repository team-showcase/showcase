sap.ui.define([], function () {
  "use strict";

  var _exports = {};

  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

  function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  var Path = function Path(pathExpression, targetName) {
    _classCallCheck(this, Path);

    this.path = pathExpression.Path;
    this.type = "Path";
    this.$target = targetName;
  };

  var defaultReferences = [{
    alias: "Capabilities",
    namespace: "Org.OData.Capabilities.V1",
    uri: ""
  }, {
    alias: "Aggregation",
    namespace: "Org.OData.Aggregation.V1",
    uri: ""
  }, {
    alias: "Validation",
    namespace: "Org.OData.Validation.V1",
    uri: ""
  }, {
    namespace: "Org.OData.Core.V1",
    alias: "Core",
    uri: ""
  }, {
    namespace: "Org.OData.Measures.V1",
    alias: "Measures",
    uri: ""
  }, {
    namespace: "com.sap.vocabularies.Common.v1",
    alias: "Common",
    uri: ""
  }, {
    namespace: "com.sap.vocabularies.UI.v1",
    alias: "UI",
    uri: ""
  }, {
    namespace: "com.sap.vocabularies.Session.v1",
    alias: "Session",
    uri: ""
  }, {
    namespace: "com.sap.vocabularies.Analytics.v1",
    alias: "Analytics",
    uri: ""
  }, {
    namespace: "com.sap.vocabularies.CodeList.v1",
    alias: "CodeList",
    uri: ""
  }, {
    namespace: "com.sap.vocabularies.PersonalData.v1",
    alias: "PersonalData",
    uri: ""
  }, {
    namespace: "com.sap.vocabularies.Communication.v1",
    alias: "Communication",
    uri: ""
  }, {
    namespace: "com.sap.vocabularies.HTML5.v1",
    alias: "HTML5",
    uri: ""
  }];
  _exports.defaultReferences = defaultReferences;

  function alias(references, unaliasedValue) {
    if (!references.reverseReferenceMap) {
      references.reverseReferenceMap = references.reduce(function (map, reference) {
        map[reference.namespace] = reference;
        return map;
      }, {});
    }

    if (!unaliasedValue) {
      return unaliasedValue;
    }

    var lastDotIndex = unaliasedValue.lastIndexOf(".");
    var namespace = unaliasedValue.substr(0, lastDotIndex);
    var value = unaliasedValue.substr(lastDotIndex + 1);
    var reference = references.reverseReferenceMap[namespace];

    if (reference) {
      return "".concat(reference.alias, ".").concat(value);
    } else {
      // Try to see if it's an annotation Path like to_SalesOrder/@UI.LineItem
      if (unaliasedValue.indexOf("@") !== -1) {
        var _unaliasedValue$split = unaliasedValue.split("@"),
            _unaliasedValue$split2 = _slicedToArray(_unaliasedValue$split, 2),
            preAlias = _unaliasedValue$split2[0],
            postAlias = _unaliasedValue$split2[1];

        return "".concat(preAlias, "@").concat(alias(references, postAlias));
      } else {
        return unaliasedValue;
      }
    }
  }

  function unalias(references, aliasedValue) {
    if (!references.referenceMap) {
      references.referenceMap = references.reduce(function (map, reference) {
        map[reference.alias] = reference;
        return map;
      }, {});
    }

    if (!aliasedValue) {
      return aliasedValue;
    }

    var _aliasedValue$split = aliasedValue.split("."),
        _aliasedValue$split2 = _slicedToArray(_aliasedValue$split, 2),
        alias = _aliasedValue$split2[0],
        value = _aliasedValue$split2[1];

    var reference = references.referenceMap[alias];

    if (reference) {
      return "".concat(reference.namespace, ".").concat(value);
    } else {
      // Try to see if it's an annotation Path like to_SalesOrder/@UI.LineItem
      if (aliasedValue.indexOf("@") !== -1) {
        var _aliasedValue$split3 = aliasedValue.split("@"),
            _aliasedValue$split4 = _slicedToArray(_aliasedValue$split3, 2),
            preAlias = _aliasedValue$split4[0],
            postAlias = _aliasedValue$split4[1];

        return "".concat(preAlias, "@").concat(unalias(references, postAlias));
      } else {
        return aliasedValue;
      }
    }
  }

  function buildObjectMap(parserOutput) {
    var objectMap = {};

    if (parserOutput.schema.entityContainer && parserOutput.schema.entityContainer.fullyQualifiedName) {
      objectMap[parserOutput.schema.entityContainer.fullyQualifiedName] = parserOutput.schema.entityContainer;
    }

    parserOutput.schema.entitySets.forEach(function (entitySet) {
      objectMap[entitySet.fullyQualifiedName] = entitySet;
    });
    parserOutput.schema.actions.forEach(function (action) {
      objectMap[action.fullyQualifiedName] = action;
      objectMap[action.fullyQualifiedName.split("(")[0]] = action;
      action.parameters.forEach(function (parameter) {
        objectMap[parameter.fullyQualifiedName] = parameter;
      });
    });
    parserOutput.schema.complexTypes.forEach(function (complexType) {
      objectMap[complexType.fullyQualifiedName] = complexType;
      complexType.properties.forEach(function (property) {
        objectMap[property.fullyQualifiedName] = property;
      });
    });
    parserOutput.schema.entityTypes.forEach(function (entityType) {
      objectMap[entityType.fullyQualifiedName] = entityType;
      entityType.entityProperties.forEach(function (property) {
        objectMap[property.fullyQualifiedName] = property;

        if (property.type.indexOf("Edm") === -1) {
          // Handle complex types
          var complexTypeDefinition = objectMap[property.type];

          if (complexTypeDefinition && complexTypeDefinition.properties) {
            complexTypeDefinition.properties.forEach(function (complexTypeProp) {
              var complexTypePropTarget = Object.assign(complexTypeProp, {
                _type: "Property",
                fullyQualifiedName: property.fullyQualifiedName + "/" + complexTypeProp.name
              });
              objectMap[complexTypePropTarget.fullyQualifiedName] = complexTypePropTarget;
            });
          }
        }
      });
      entityType.navigationProperties.forEach(function (navProperty) {
        objectMap[navProperty.fullyQualifiedName] = navProperty;
      });
    });
    Object.keys(parserOutput.schema.annotations).forEach(function (annotationSource) {
      parserOutput.schema.annotations[annotationSource].forEach(function (annotationList) {
        var currentTargetName = unalias(parserOutput.references, annotationList.target);
        annotationList.annotations.forEach(function (annotation) {
          var annotationFQN = "".concat(currentTargetName, "@").concat(unalias(parserOutput.references, annotation.term));

          if (annotation.qualifier) {
            annotationFQN += "#".concat(annotation.qualifier);
          }

          objectMap[annotationFQN] = annotation;
          annotation.fullyQualifiedName = annotationFQN;
        });
      });
    });
    return objectMap;
  }

  function combinePath(currentTarget, path) {
    if (path.startsWith("@")) {
      return currentTarget + unalias(defaultReferences, path);
    } else {
      return currentTarget + "/" + path;
    }
  }

  function resolveTarget(objectMap, currentTarget, path) {
    var pathOnly = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
    var includeVisitedObjects = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;

    if (!path) {
      return undefined;
    }

    var aVisitedObjects = [];
    path = combinePath(currentTarget.fullyQualifiedName, path);
    var pathSplit = path.split("/");
    var currentPath = path;
    var target = pathSplit.reduce(function (currentValue, pathPart) {
      if (pathPart.length === 0) {
        return currentValue;
      }

      if (includeVisitedObjects && currentValue !== null) {
        aVisitedObjects.push(currentValue);
      }

      if (!currentValue) {
        currentPath = pathPart;
      } else if (currentValue._type === "EntitySet" && currentValue.entityType) {
        currentPath = combinePath(currentValue.entityTypeName, pathPart);
      } else if (currentValue._type === "NavigationProperty" && currentValue.targetTypeName) {
        currentPath = combinePath(currentValue.targetTypeName, pathPart);
      } else if (currentValue._type === "NavigationProperty" && currentValue.targetType) {
        currentPath = combinePath(currentValue.targetType.fullyQualifiedName, pathPart);
      } else if (currentValue._type === "Property") {
        if (currentValue.type.indexOf("Edm") === -1) {
          // This is a complex type
          currentPath = combinePath(currentValue.fullyQualifiedName, pathPart);
        } else {
          currentPath = combinePath(currentTarget.fullyQualifiedName.substr(0, currentTarget.fullyQualifiedName.lastIndexOf("/")), pathPart);
        }
      } else if (currentValue._type === "Action" && currentValue.isBound) {
        currentPath = combinePath(currentValue.fullyQualifiedName, pathPart);

        if (!objectMap[currentPath]) {
          currentPath = combinePath(currentValue.sourceType, pathPart);
        }
      } else if (currentValue._type === "ActionParameter" && currentValue.isEntitySet) {
        currentPath = combinePath(currentValue.type, pathPart);
      } else if (currentValue._type === "ActionParameter" && !currentValue.isEntitySet) {
        currentPath = combinePath(currentTarget.fullyQualifiedName.substr(0, currentTarget.fullyQualifiedName.lastIndexOf("/")), pathPart);

        if (!objectMap[currentPath]) {
          var lastIdx = currentTarget.fullyQualifiedName.lastIndexOf("/");

          if (lastIdx === -1) {
            lastIdx = currentTarget.fullyQualifiedName.length;
          }

          currentPath = combinePath(objectMap[currentTarget.fullyQualifiedName.substr(0, lastIdx)].sourceType, pathPart);
        }
      } else {
        currentPath = combinePath(currentValue.fullyQualifiedName, pathPart);

        if (currentValue[pathPart] !== undefined) {
          return currentValue[pathPart];
        } else if (pathPart === "$AnnotationPath" && currentValue.$target) {
          return currentValue.$target;
        } else if (currentValue.hasOwnProperty("$Type")) {
          // This is now an annotation value
          var entityType = objectMap[currentValue.fullyQualifiedName.split("@")[0]];

          if (entityType) {
            currentPath = combinePath(entityType.fullyQualifiedName, pathPart);
          }
        }
      }

      return objectMap[currentPath];
    }, null);

    if (!target) {
      ANNOTATION_ERRORS.push({
        message: "Unable to resolve the path expression " + path
      }); // console.log("Missing target " + path);
    }

    if (pathOnly) {
      return currentPath;
    }

    if (includeVisitedObjects) {
      return {
        visitedObjects: aVisitedObjects,
        target: target
      };
    }

    return target;
  }

  function isAnnotationPath(pathStr) {
    return pathStr.indexOf("@") !== -1;
  }

  function parseValue(propertyValue, valueFQN, parserOutput, currentTarget, objectMap, toResolve, annotationSource, unresolvedAnnotations) {
    if (propertyValue === undefined) {
      return undefined;
    }

    switch (propertyValue.type) {
      case "String":
        return propertyValue.String;

      case "Int":
        return propertyValue.Int;

      case "Bool":
        return propertyValue.Bool;

      case "Decimal":
        return propertyValue.Decimal;

      case "Date":
        return propertyValue.Date;

      case "EnumMember":
        return alias(parserOutput.references, propertyValue.EnumMember);

      case "PropertyPath":
        return {
          type: "PropertyPath",
          value: propertyValue.PropertyPath,
          fullyQualifiedName: valueFQN,
          $target: resolveTarget(objectMap, currentTarget, propertyValue.PropertyPath)
        };

      case "NavigationPropertyPath":
        return {
          type: "NavigationPropertyPath",
          value: propertyValue.NavigationPropertyPath,
          fullyQualifiedName: valueFQN,
          $target: resolveTarget(objectMap, currentTarget, propertyValue.NavigationPropertyPath)
        };

      case "AnnotationPath":
        var annotationTarget = resolveTarget(objectMap, currentTarget, unalias(parserOutput.references, propertyValue.AnnotationPath), true);
        var annotationPath = {
          type: "AnnotationPath",
          value: propertyValue.AnnotationPath,
          fullyQualifiedName: valueFQN,
          $target: annotationTarget
        };
        toResolve.push(annotationPath);
        return annotationPath;

      case "Path":
        if (isAnnotationPath(propertyValue.Path)) {
          // If it's an anntoation that we can resolve, resolve it !
          var _$target = resolveTarget(objectMap, currentTarget, propertyValue.Path);

          if (_$target) {
            return _$target;
          }
        }

        var $target = resolveTarget(objectMap, currentTarget, propertyValue.Path, true);
        var path = new Path(propertyValue, $target);
        toResolve.push(path);
        return path;

      case "Record":
        return parseRecord(propertyValue.Record, valueFQN, parserOutput, currentTarget, objectMap, toResolve, annotationSource, unresolvedAnnotations);

      case "Collection":
        return parseCollection(propertyValue.Collection, valueFQN, parserOutput, currentTarget, objectMap, toResolve, annotationSource, unresolvedAnnotations);

      case "Apply":
      case "If":
        return propertyValue;
    }
  }

  function parseRecord(recordDefinition, currentFQN, parserOutput, currentTarget, objectMap, toResolve, annotationSource, unresolvedAnnotations) {
    var annotationTerm = {
      $Type: unalias(parserOutput.references, recordDefinition.type),
      fullyQualifiedName: currentFQN
    };
    var annotationContent = {};

    if (recordDefinition.annotations && Array.isArray(recordDefinition.annotations)) {
      var subAnnotationList = {
        target: currentFQN,
        annotations: recordDefinition.annotations,
        __source: annotationSource
      };
      unresolvedAnnotations.push(subAnnotationList);
    }

    recordDefinition.propertyValues.forEach(function (propertyValue) {
      annotationContent[propertyValue.name] = parseValue(propertyValue.value, "".concat(currentFQN, "/").concat(propertyValue.name), parserOutput, currentTarget, objectMap, toResolve, annotationSource, unresolvedAnnotations);

      if (propertyValue.annotations && Array.isArray(propertyValue.annotations)) {
        var _subAnnotationList = {
          target: "".concat(currentFQN, "/").concat(propertyValue.name),
          annotations: propertyValue.annotations,
          __source: annotationSource
        };
        unresolvedAnnotations.push(_subAnnotationList);
      }

      if (annotationContent.hasOwnProperty("Action") && (annotationTerm.$Type === "com.sap.vocabularies.UI.v1.DataFieldForAction" || annotationTerm.$Type === "com.sap.vocabularies.UI.v1.DataFieldWithAction")) {
        if (currentTarget.actions) {
          annotationContent.ActionTarget = currentTarget.actions[annotationContent.Action] || objectMap[annotationContent.Action];

          if (!annotationContent.ActionTarget) {
            // Add to diagnostics debugger;
            ANNOTATION_ERRORS.push({
              message: "Unable to resolve the action " + annotationContent.Action + " defined for " + annotationTerm.fullyQualifiedName
            });
          }
        }
      }
    });
    return Object.assign(annotationTerm, annotationContent);
  }

  function getOrInferCollectionType(collectionDefinition) {
    var type = collectionDefinition.type;

    if (type === undefined && collectionDefinition.length > 0) {
      var firstColItem = collectionDefinition[0];

      if (firstColItem.hasOwnProperty("PropertyPath")) {
        type = "PropertyPath";
      } else if (firstColItem.hasOwnProperty("Path")) {
        type = "Path";
      } else if (firstColItem.hasOwnProperty("AnnotationPath")) {
        type = "AnnotationPath";
      } else if (firstColItem.hasOwnProperty("NavigationPropertyPath")) {
        type = "NavigationPropertyPath";
      } else if (typeof firstColItem === "object" && (firstColItem.hasOwnProperty("type") || firstColItem.hasOwnProperty("propertyValues"))) {
        type = "Record";
      } else if (typeof firstColItem === "string") {
        type = "String";
      }
    } else if (type === undefined) {
      type = "EmptyCollection";
    }

    return type;
  }

  function parseCollection(collectionDefinition, parentFQN, parserOutput, currentTarget, objectMap, toResolve, annotationSource, unresolvedAnnotations) {
    var collectionDefinitionType = getOrInferCollectionType(collectionDefinition);

    switch (collectionDefinitionType) {
      case "PropertyPath":
        return collectionDefinition.map(function (propertyPath, propertyIdx) {
          return {
            type: "PropertyPath",
            value: propertyPath.PropertyPath,
            fullyQualifiedName: "".concat(parentFQN, "/").concat(propertyIdx),
            $target: resolveTarget(objectMap, currentTarget, propertyPath.PropertyPath)
          };
        });

      case "Path":
        return collectionDefinition.map(function (pathValue) {
          if (isAnnotationPath(pathValue.Path)) {
            // If it's an anntoation that we can resolve, resolve it !
            var _$target2 = resolveTarget(objectMap, currentTarget, pathValue.Path);

            if (_$target2) {
              return _$target2;
            }
          }

          var $target = resolveTarget(objectMap, currentTarget, pathValue.Path, true);
          var path = new Path(pathValue, $target);
          toResolve.push(path);
          return path;
        });

      case "AnnotationPath":
        return collectionDefinition.map(function (annotationPath, annotationIdx) {
          var annotationTarget = resolveTarget(objectMap, currentTarget, annotationPath.AnnotationPath, true);
          var annotationCollectionElement = {
            type: "AnnotationPath",
            value: annotationPath.AnnotationPath,
            fullyQualifiedName: "".concat(parentFQN, "/").concat(annotationIdx),
            $target: annotationTarget
          };
          toResolve.push(annotationCollectionElement);
          return annotationCollectionElement;
        });

      case "NavigationPropertyPath":
        return collectionDefinition.map(function (navPropertyPath, navPropIdx) {
          return {
            type: "NavigationPropertyPath",
            value: navPropertyPath.NavigationPropertyPath,
            fullyQualifiedName: "".concat(parentFQN, "/").concat(navPropIdx),
            $target: resolveTarget(objectMap, currentTarget, navPropertyPath.NavigationPropertyPath)
          };
        });

      case "Record":
        return collectionDefinition.map(function (recordDefinition, recordIdx) {
          return parseRecord(recordDefinition, "".concat(parentFQN, "/").concat(recordIdx), parserOutput, currentTarget, objectMap, toResolve, annotationSource, unresolvedAnnotations);
        });

      case "String":
        return collectionDefinition.map(function (stringValue) {
          return stringValue;
        });

      default:
        if (collectionDefinition.length === 0) {
          return [];
        }

        throw new Error("Unsupported case");
    }
  }

  function convertAnnotation(annotation, parserOutput, currentTarget, objectMap, toResolve, annotationSource, unresolvedAnnotations) {
    if (annotation.record) {
      var annotationTerm = {
        $Type: unalias(parserOutput.references, annotation.record.type),
        fullyQualifiedName: annotation.fullyQualifiedName,
        qualifier: annotation.qualifier
      };
      var annotationContent = {};
      annotation.record.propertyValues.forEach(function (propertyValue) {
        annotationContent[propertyValue.name] = parseValue(propertyValue.value, "".concat(annotation.fullyQualifiedName, "/").concat(propertyValue.name), parserOutput, currentTarget, objectMap, toResolve, annotationSource, unresolvedAnnotations);

        if (annotationContent.hasOwnProperty("Action") && (!annotation.record || annotationTerm.$Type === "com.sap.vocabularies.UI.v1.DataFieldForAction" || annotationTerm.$Type === "com.sap.vocabularies.UI.v1.DataFieldWithAction")) {
          if (currentTarget.actions) {
            annotationContent.ActionTarget = currentTarget.actions[annotationContent.Action] || objectMap[annotationContent.Action];

            if (!annotationContent.ActionTarget) {
              ANNOTATION_ERRORS.push({
                message: "Unable to resolve the action " + annotationContent.Action + " defined for " + annotation.fullyQualifiedName
              }); // Add to diagnostics
              // debugger;
            }
          }
        }
      });
      return Object.assign(annotationTerm, annotationContent);
    } else if (annotation.collection === undefined) {
      if (annotation.value) {
        return parseValue(annotation.value, annotation.fullyQualifiedName, parserOutput, currentTarget, objectMap, toResolve, annotationSource, unresolvedAnnotations);
      } else {
        return true;
      }
    } else if (annotation.collection) {
      var collection = parseCollection(annotation.collection, annotation.fullyQualifiedName, parserOutput, currentTarget, objectMap, toResolve, annotationSource, unresolvedAnnotations);
      collection.fullyQualifiedName = annotation.fullyQualifiedName;
      return collection;
    } else {
      throw new Error("Unsupported case");
    }
  }

  function createResolvePathFn(entityType, objectMap) {
    return function (relativePath, includeVisitedObjects) {
      return resolveTarget(objectMap, entityType, relativePath, false, includeVisitedObjects);
    };
  }

  function resolveNavigationProperties(entityTypes, associations, objectMap) {
    entityTypes.forEach(function (entityType) {
      entityType.navigationProperties = entityType.navigationProperties.map(function (navProp) {
        var outNavProp = {
          _type: "NavigationProperty",
          name: navProp.name,
          fullyQualifiedName: navProp.fullyQualifiedName,
          partner: navProp.hasOwnProperty("partner") ? navProp.partner : undefined,
          // targetTypeName: FullyQualifiedName;
          // targetType: EntityType;
          isCollection: navProp.hasOwnProperty("isCollection") ? navProp.isCollection : false,
          containsTarget: navProp.hasOwnProperty("containsTarget") ? navProp.containsTarget : false,
          referentialConstraint: navProp.referentialConstraint ? navProp.referentialConstraint : []
        };

        if (navProp.targetTypeName) {
          outNavProp.targetType = objectMap[navProp.targetTypeName];
        } else if (navProp.relationship) {
          var targetAssociation = associations.find(function (association) {
            return association.fullyQualifiedName === navProp.relationship;
          });

          if (targetAssociation) {
            var associationEnd = targetAssociation.associationEnd.find(function (end) {
              return end.role === navProp.toRole;
            });

            if (associationEnd) {
              outNavProp.targetType = objectMap[associationEnd.type];
              outNavProp.isCollection = associationEnd.multiplicity === "*";
            }
          }
        }

        if (outNavProp.targetType) {
          outNavProp.targetTypeName = outNavProp.targetType.fullyQualifiedName;
        }

        var outNavPropReq = outNavProp;
        objectMap[outNavPropReq.fullyQualifiedName] = outNavPropReq;
        return outNavPropReq;
      });
      entityType.resolvePath = createResolvePathFn(entityType, objectMap);
    });
  }

  function linkActionsToEntityType(namespace, actions, objectMap) {
    actions.forEach(function (action) {
      if (action.isBound) {
        var sourceEntityType = objectMap[action.sourceType];
        action.sourceEntityType = sourceEntityType;

        if (sourceEntityType) {
          if (!sourceEntityType.actions) {
            sourceEntityType.actions = {};
          }

          sourceEntityType.actions[action.name] = action;
          sourceEntityType.actions["".concat(namespace, ".").concat(action.name)] = action;
        }

        action.returnEntityType = objectMap[action.returnType];
      }
    });
  }

  function linkEntityTypeToEntitySet(entitySets, objectMap) {
    entitySets.forEach(function (entitySet) {
      entitySet.entityType = objectMap[entitySet.entityTypeName];

      if (!entitySet.annotations) {
        entitySet.annotations = {};
      }

      if (!entitySet.entityType.annotations) {
        entitySet.entityType.annotations = {};
      }

      entitySet.entityType.keys.forEach(function (keyProp) {
        keyProp.isKey = true;
      });
    });
  }

  function linkPropertiesToComplexTypes(entityTypes, objectMap) {
    entityTypes.forEach(function (entityType) {
      entityType.entityProperties.forEach(function (entityProperty) {
        if (entityProperty.type.indexOf("Edm") === -1) {
          var complexType = objectMap[entityProperty.type];

          if (complexType) {
            entityProperty.targetType = complexType;
          }
        }
      });
    });
  }

  function prepareComplexTypes(complexTypes, associations, objectMap) {
    complexTypes.forEach(function (complexType) {
      complexType.annotations = {};
      complexType.properties.forEach(function (property) {
        if (!property.annotations) {
          property.annotations = {};
        }
      });
      complexType.navigationProperties = complexType.navigationProperties.map(function (navProp) {
        if (!navProp.annotations) {
          navProp.annotations = {};
        }

        var outNavProp = {
          _type: "NavigationProperty",
          name: navProp.name,
          fullyQualifiedName: navProp.fullyQualifiedName,
          partner: navProp.hasOwnProperty("partner") ? navProp.partner : undefined,
          // targetTypeName: FullyQualifiedName;
          // targetType: EntityType;
          isCollection: navProp.hasOwnProperty("isCollection") ? navProp.isCollection : false,
          containsTarget: navProp.hasOwnProperty("containsTarget") ? navProp.containsTarget : false,
          referentialConstraint: navProp.referentialConstraint ? navProp.referentialConstraint : []
        };

        if (navProp.targetTypeName) {
          outNavProp.targetType = objectMap[navProp.targetTypeName];
        } else if (navProp.relationship) {
          var targetAssociation = associations.find(function (association) {
            return association.fullyQualifiedName === navProp.relationship;
          });

          if (targetAssociation) {
            var associationEnd = targetAssociation.associationEnd.find(function (end) {
              return end.role === navProp.toRole;
            });

            if (associationEnd) {
              outNavProp.targetType = objectMap[associationEnd.type];
              outNavProp.isCollection = associationEnd.multiplicity === "*";
            }
          }
        }

        if (outNavProp.targetType) {
          outNavProp.targetTypeName = outNavProp.targetType.fullyQualifiedName;
        }

        var outNavPropReq = outNavProp;
        objectMap[outNavPropReq.fullyQualifiedName] = outNavPropReq;
        return outNavPropReq;
      });
    });
  }

  function splitTerm(references, termValue) {
    var aliasedTerm = alias(references, termValue);
    var lastDot = aliasedTerm.lastIndexOf(".");
    var termAlias = aliasedTerm.substr(0, lastDot);
    var term = aliasedTerm.substr(lastDot + 1);
    return [termAlias, term];
  }

  var ANNOTATION_ERRORS = [];

  function convertTypes(parserOutput) {
    ANNOTATION_ERRORS = [];
    var objectMap = buildObjectMap(parserOutput);
    resolveNavigationProperties(parserOutput.schema.entityTypes, parserOutput.schema.associations, objectMap);
    linkActionsToEntityType(parserOutput.schema.namespace, parserOutput.schema.actions, objectMap);
    linkEntityTypeToEntitySet(parserOutput.schema.entitySets, objectMap);
    linkPropertiesToComplexTypes(parserOutput.schema.entityTypes, objectMap);
    prepareComplexTypes(parserOutput.schema.complexTypes, parserOutput.schema.associations, objectMap);
    var toResolve = [];
    var unresolvedAnnotations = [];
    Object.keys(parserOutput.schema.annotations).forEach(function (annotationSource) {
      parserOutput.schema.annotations[annotationSource].forEach(function (annotationList) {
        var currentTargetName = unalias(parserOutput.references, annotationList.target);
        var currentTarget = objectMap[currentTargetName];

        if (!currentTarget) {
          if (currentTargetName.indexOf("@") !== -1) {
            annotationList.__source = annotationSource;
            unresolvedAnnotations.push(annotationList);
          }
        } else if (typeof currentTarget === "object") {
          if (!currentTarget.annotations) {
            currentTarget.annotations = {};
          }

          annotationList.annotations.forEach(function (annotation) {
            var _splitTerm = splitTerm(defaultReferences, annotation.term),
                _splitTerm2 = _slicedToArray(_splitTerm, 2),
                vocAlias = _splitTerm2[0],
                vocTerm = _splitTerm2[1];

            if (!currentTarget.annotations[vocAlias]) {
              currentTarget.annotations[vocAlias] = {};
            }

            if (!currentTarget.annotations._annotations) {
              currentTarget.annotations._annotations = {};
            }

            var vocTermWithQualifier = "".concat(vocTerm).concat(annotation.qualifier ? "#".concat(annotation.qualifier) : "");
            currentTarget.annotations[vocAlias][vocTermWithQualifier] = convertAnnotation(annotation, parserOutput, currentTarget, objectMap, toResolve, annotationSource, unresolvedAnnotations);

            if (currentTarget.annotations[vocAlias][vocTermWithQualifier] !== null && typeof currentTarget.annotations[vocAlias][vocTermWithQualifier] === "object") {
              currentTarget.annotations[vocAlias][vocTermWithQualifier].term = unalias(defaultReferences, "".concat(vocAlias, ".").concat(vocTerm));
              currentTarget.annotations[vocAlias][vocTermWithQualifier].qualifier = annotation.qualifier;
              currentTarget.annotations[vocAlias][vocTermWithQualifier].__source = annotationSource;
            }

            var annotationTarget = "".concat(currentTargetName, "@").concat(unalias(defaultReferences, vocAlias + "." + vocTermWithQualifier));

            if (annotation.annotations && Array.isArray(annotation.annotations)) {
              var subAnnotationList = {
                target: annotationTarget,
                annotations: annotation.annotations,
                __source: annotationSource
              };
              unresolvedAnnotations.push(subAnnotationList);
            }

            currentTarget.annotations._annotations["".concat(vocAlias, ".").concat(vocTermWithQualifier)] = currentTarget.annotations[vocAlias][vocTermWithQualifier];
            objectMap[annotationTarget] = currentTarget.annotations[vocAlias][vocTermWithQualifier];
          });
        }
      });
    });
    var extraUnresolvedAnnotations = [];
    unresolvedAnnotations.forEach(function (annotationList) {
      var currentTargetName = unalias(parserOutput.references, annotationList.target);

      var _currentTargetName$sp = currentTargetName.split("@"),
          _currentTargetName$sp2 = _slicedToArray(_currentTargetName$sp, 2),
          baseObj = _currentTargetName$sp2[0],
          annotationPart = _currentTargetName$sp2[1];

      var targetSplit = annotationPart.split("/");
      baseObj = baseObj + "@" + targetSplit[0];
      var currentTarget = targetSplit.slice(1).reduce(function (currentObj, path) {
        if (!currentObj) {
          return null;
        }

        return currentObj[path];
      }, objectMap[baseObj]);

      if (!currentTarget) {
        ANNOTATION_ERRORS.push({
          message: "The following annotation target was not found on the service " + currentTargetName
        }); // console.log("Missing target again " + currentTargetName);
      } else if (typeof currentTarget === "object") {
        if (!currentTarget.annotations) {
          currentTarget.annotations = {};
        }

        annotationList.annotations.forEach(function (annotation) {
          var _splitTerm3 = splitTerm(defaultReferences, annotation.term),
              _splitTerm4 = _slicedToArray(_splitTerm3, 2),
              vocAlias = _splitTerm4[0],
              vocTerm = _splitTerm4[1];

          if (!currentTarget.annotations[vocAlias]) {
            currentTarget.annotations[vocAlias] = {};
          }

          if (!currentTarget.annotations._annotations) {
            currentTarget.annotations._annotations = {};
          }

          var vocTermWithQualifier = "".concat(vocTerm).concat(annotation.qualifier ? "#".concat(annotation.qualifier) : "");
          currentTarget.annotations[vocAlias][vocTermWithQualifier] = convertAnnotation(annotation, parserOutput, currentTarget, objectMap, toResolve, annotationList.__source, extraUnresolvedAnnotations);

          if (currentTarget.annotations[vocAlias][vocTermWithQualifier] !== null && typeof currentTarget.annotations[vocAlias][vocTermWithQualifier] === "object") {
            currentTarget.annotations[vocAlias][vocTermWithQualifier].term = unalias(defaultReferences, "".concat(vocAlias, ".").concat(vocTerm));
            currentTarget.annotations[vocAlias][vocTermWithQualifier].qualifier = annotation.qualifier;
            currentTarget.annotations[vocAlias][vocTermWithQualifier].__source = annotationList.__source;
          }

          currentTarget.annotations._annotations["".concat(vocAlias, ".").concat(vocTermWithQualifier)] = currentTarget.annotations[vocAlias][vocTermWithQualifier];
          objectMap["".concat(currentTargetName, "@").concat(unalias(defaultReferences, vocAlias + "." + vocTermWithQualifier))] = currentTarget.annotations[vocAlias][vocTermWithQualifier];
        });
      }
    });
    toResolve.forEach(function (resolveable) {
      var targetStr = resolveable.$target;
      resolveable.$target = objectMap[targetStr];

      if (!resolveable.$target) {
        resolveable.targetString = targetStr;
        ANNOTATION_ERRORS.push({
          message: "Unable to resolve the path expression " + targetStr
        });
      }
    });
    parserOutput.entitySets = parserOutput.schema.entitySets;
    return {
      version: parserOutput.version,
      annotations: parserOutput.schema.annotations,
      namespace: parserOutput.schema.namespace,
      actions: parserOutput.schema.actions,
      entitySets: parserOutput.schema.entitySets,
      entityTypes: parserOutput.schema.entityTypes,
      complexTypes: parserOutput.schema.complexTypes,
      references: defaultReferences,
      diagnostics: ANNOTATION_ERRORS.concat()
    };
  }

  _exports.convertTypes = convertTypes;

  function revertValueToGenericType(references, value) {
    var result;

    if (typeof value === "string") {
      var valueMatches = value.match(/(\w+)\.\w+\/.*/);

      if (valueMatches && references.find(function (ref) {
        return ref.alias === valueMatches[1];
      })) {
        result = {
          type: "EnumMember",
          EnumMember: value
        };
      } else {
        result = {
          type: "String",
          String: value
        };
      }
    } else if (Array.isArray(value)) {
      result = {
        type: "Collection",
        Collection: value.map(function (anno) {
          return revertCollectionItemToGenericType(references, anno);
        })
      };
    } else if (typeof value === "boolean") {
      result = {
        type: "Bool",
        Bool: value
      };
    } else if (typeof value === "number") {
      if (value.toString() === value.toFixed()) {
        result = {
          type: "Int",
          Int: value
        };
      } else {
        result = {
          type: "Decimal",
          Decimal: value
        };
      }
    } else if (typeof value === "object" && value.isDecimal && value.isDecimal()) {
      result = {
        type: "Decimal",
        Decimal: value.valueOf()
      };
    } else if (value.type === "Path") {
      result = {
        type: "Path",
        Path: value.path
      };
    } else if (value.type === "AnnotationPath") {
      result = {
        type: "AnnotationPath",
        AnnotationPath: value.value
      };
    } else if (value.type === "PropertyPath") {
      result = {
        type: "PropertyPath",
        PropertyPath: value.value
      };
    } else if (value.type === "NavigationPropertyPath") {
      result = {
        type: "NavigationPropertyPath",
        NavigationPropertyPath: value.value
      };
    } else if (Object.prototype.hasOwnProperty.call(value, "$Type")) {
      result = {
        type: "Record",
        Record: revertCollectionItemToGenericType(references, value)
      };
    }

    return result;
  }

  function revertCollectionItemToGenericType(references, collectionItem) {
    if (typeof collectionItem === "string") {
      return collectionItem;
    } else if (typeof collectionItem === "object") {
      if (collectionItem.hasOwnProperty("$Type")) {
        // Annotation Record
        var outItem = {
          type: collectionItem.$Type,
          propertyValues: []
        }; // Could validate keys and type based on $Type

        Object.keys(collectionItem).forEach(function (collectionKey) {
          if (collectionKey !== "$Type" && collectionKey !== "term" && collectionKey !== "__source" && collectionKey !== "qualifier" && collectionKey !== "ActionTarget" && collectionKey !== "fullyQualifiedName" && collectionKey !== "annotations") {
            var value = collectionItem[collectionKey];
            outItem.propertyValues.push({
              name: collectionKey,
              value: revertValueToGenericType(references, value)
            });
          } else if (collectionKey === "annotations") {
            var annotations = collectionItem[collectionKey];
            outItem.annotations = [];
            Object.keys(annotations).filter(function (key) {
              return key !== "_annotations";
            }).forEach(function (key) {
              Object.keys(annotations[key]).forEach(function (term) {
                var _outItem$annotations;

                var parsedAnnotation = revertTermToGenericType(references, annotations[key][term]);

                if (!parsedAnnotation.term) {
                  var unaliasedTerm = unalias(references, "".concat(key, ".").concat(term));

                  if (unaliasedTerm) {
                    var qualifiedSplit = unaliasedTerm.split("#");
                    parsedAnnotation.term = qualifiedSplit[0];

                    if (qualifiedSplit.length > 1) {
                      parsedAnnotation.qualifier = qualifiedSplit[1];
                    }
                  }
                }

                (_outItem$annotations = outItem.annotations) === null || _outItem$annotations === void 0 ? void 0 : _outItem$annotations.push(parsedAnnotation);
              });
            });
          }
        });
        return outItem;
      } else if (collectionItem.type === "PropertyPath") {
        return {
          type: "PropertyPath",
          PropertyPath: collectionItem.value
        };
      } else if (collectionItem.type === "AnnotationPath") {
        return {
          type: "AnnotationPath",
          AnnotationPath: collectionItem.value
        };
      }
    }
  }

  function revertTermToGenericType(references, annotation) {
    var baseAnnotation = {
      term: annotation.term,
      qualifier: annotation.qualifier
    };

    if (Array.isArray(annotation)) {
      // Collection
      return _objectSpread(_objectSpread({}, baseAnnotation), {}, {
        collection: annotation.map(function (anno) {
          return revertCollectionItemToGenericType(references, anno);
        })
      });
    } else if (annotation.hasOwnProperty("$Type")) {
      return _objectSpread(_objectSpread({}, baseAnnotation), {}, {
        record: revertCollectionItemToGenericType(references, annotation)
      });
    } else {
      return _objectSpread(_objectSpread({}, baseAnnotation), {}, {
        value: revertValueToGenericType(references, annotation)
      });
    }
  }

  _exports.revertTermToGenericType = revertTermToGenericType;
  return _exports;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9zYXAvZmUvY29yZS9jb252ZXJ0ZXJzL2NvbW1vbi9Bbm5vdGF0aW9uQ29udmVydGVyLnRzIl0sIm5hbWVzIjpbIlBhdGgiLCJwYXRoRXhwcmVzc2lvbiIsInRhcmdldE5hbWUiLCJwYXRoIiwidHlwZSIsIiR0YXJnZXQiLCJkZWZhdWx0UmVmZXJlbmNlcyIsImFsaWFzIiwibmFtZXNwYWNlIiwidXJpIiwicmVmZXJlbmNlcyIsInVuYWxpYXNlZFZhbHVlIiwicmV2ZXJzZVJlZmVyZW5jZU1hcCIsInJlZHVjZSIsIm1hcCIsInJlZmVyZW5jZSIsImxhc3REb3RJbmRleCIsImxhc3RJbmRleE9mIiwic3Vic3RyIiwidmFsdWUiLCJpbmRleE9mIiwic3BsaXQiLCJwcmVBbGlhcyIsInBvc3RBbGlhcyIsInVuYWxpYXMiLCJhbGlhc2VkVmFsdWUiLCJyZWZlcmVuY2VNYXAiLCJidWlsZE9iamVjdE1hcCIsInBhcnNlck91dHB1dCIsIm9iamVjdE1hcCIsInNjaGVtYSIsImVudGl0eUNvbnRhaW5lciIsImZ1bGx5UXVhbGlmaWVkTmFtZSIsImVudGl0eVNldHMiLCJmb3JFYWNoIiwiZW50aXR5U2V0IiwiYWN0aW9ucyIsImFjdGlvbiIsInBhcmFtZXRlcnMiLCJwYXJhbWV0ZXIiLCJjb21wbGV4VHlwZXMiLCJjb21wbGV4VHlwZSIsInByb3BlcnRpZXMiLCJwcm9wZXJ0eSIsImVudGl0eVR5cGVzIiwiZW50aXR5VHlwZSIsImVudGl0eVByb3BlcnRpZXMiLCJjb21wbGV4VHlwZURlZmluaXRpb24iLCJjb21wbGV4VHlwZVByb3AiLCJjb21wbGV4VHlwZVByb3BUYXJnZXQiLCJPYmplY3QiLCJhc3NpZ24iLCJfdHlwZSIsIm5hbWUiLCJuYXZpZ2F0aW9uUHJvcGVydGllcyIsIm5hdlByb3BlcnR5Iiwia2V5cyIsImFubm90YXRpb25zIiwiYW5ub3RhdGlvblNvdXJjZSIsImFubm90YXRpb25MaXN0IiwiY3VycmVudFRhcmdldE5hbWUiLCJ0YXJnZXQiLCJhbm5vdGF0aW9uIiwiYW5ub3RhdGlvbkZRTiIsInRlcm0iLCJxdWFsaWZpZXIiLCJjb21iaW5lUGF0aCIsImN1cnJlbnRUYXJnZXQiLCJzdGFydHNXaXRoIiwicmVzb2x2ZVRhcmdldCIsInBhdGhPbmx5IiwiaW5jbHVkZVZpc2l0ZWRPYmplY3RzIiwidW5kZWZpbmVkIiwiYVZpc2l0ZWRPYmplY3RzIiwicGF0aFNwbGl0IiwiY3VycmVudFBhdGgiLCJjdXJyZW50VmFsdWUiLCJwYXRoUGFydCIsImxlbmd0aCIsInB1c2giLCJlbnRpdHlUeXBlTmFtZSIsInRhcmdldFR5cGVOYW1lIiwidGFyZ2V0VHlwZSIsImlzQm91bmQiLCJzb3VyY2VUeXBlIiwiaXNFbnRpdHlTZXQiLCJsYXN0SWR4IiwiaGFzT3duUHJvcGVydHkiLCJBTk5PVEFUSU9OX0VSUk9SUyIsIm1lc3NhZ2UiLCJ2aXNpdGVkT2JqZWN0cyIsImlzQW5ub3RhdGlvblBhdGgiLCJwYXRoU3RyIiwicGFyc2VWYWx1ZSIsInByb3BlcnR5VmFsdWUiLCJ2YWx1ZUZRTiIsInRvUmVzb2x2ZSIsInVucmVzb2x2ZWRBbm5vdGF0aW9ucyIsIlN0cmluZyIsIkludCIsIkJvb2wiLCJEZWNpbWFsIiwiRGF0ZSIsIkVudW1NZW1iZXIiLCJQcm9wZXJ0eVBhdGgiLCJOYXZpZ2F0aW9uUHJvcGVydHlQYXRoIiwiYW5ub3RhdGlvblRhcmdldCIsIkFubm90YXRpb25QYXRoIiwiYW5ub3RhdGlvblBhdGgiLCJwYXJzZVJlY29yZCIsIlJlY29yZCIsInBhcnNlQ29sbGVjdGlvbiIsIkNvbGxlY3Rpb24iLCJyZWNvcmREZWZpbml0aW9uIiwiY3VycmVudEZRTiIsImFubm90YXRpb25UZXJtIiwiJFR5cGUiLCJhbm5vdGF0aW9uQ29udGVudCIsIkFycmF5IiwiaXNBcnJheSIsInN1YkFubm90YXRpb25MaXN0IiwiX19zb3VyY2UiLCJwcm9wZXJ0eVZhbHVlcyIsIkFjdGlvblRhcmdldCIsIkFjdGlvbiIsImdldE9ySW5mZXJDb2xsZWN0aW9uVHlwZSIsImNvbGxlY3Rpb25EZWZpbml0aW9uIiwiZmlyc3RDb2xJdGVtIiwicGFyZW50RlFOIiwiY29sbGVjdGlvbkRlZmluaXRpb25UeXBlIiwicHJvcGVydHlQYXRoIiwicHJvcGVydHlJZHgiLCJwYXRoVmFsdWUiLCJhbm5vdGF0aW9uSWR4IiwiYW5ub3RhdGlvbkNvbGxlY3Rpb25FbGVtZW50IiwibmF2UHJvcGVydHlQYXRoIiwibmF2UHJvcElkeCIsInJlY29yZElkeCIsInN0cmluZ1ZhbHVlIiwiRXJyb3IiLCJjb252ZXJ0QW5ub3RhdGlvbiIsInJlY29yZCIsImNvbGxlY3Rpb24iLCJjcmVhdGVSZXNvbHZlUGF0aEZuIiwicmVsYXRpdmVQYXRoIiwicmVzb2x2ZU5hdmlnYXRpb25Qcm9wZXJ0aWVzIiwiYXNzb2NpYXRpb25zIiwibmF2UHJvcCIsIm91dE5hdlByb3AiLCJwYXJ0bmVyIiwiaXNDb2xsZWN0aW9uIiwiY29udGFpbnNUYXJnZXQiLCJyZWZlcmVudGlhbENvbnN0cmFpbnQiLCJyZWxhdGlvbnNoaXAiLCJ0YXJnZXRBc3NvY2lhdGlvbiIsImZpbmQiLCJhc3NvY2lhdGlvbiIsImFzc29jaWF0aW9uRW5kIiwiZW5kIiwicm9sZSIsInRvUm9sZSIsIm11bHRpcGxpY2l0eSIsIm91dE5hdlByb3BSZXEiLCJyZXNvbHZlUGF0aCIsImxpbmtBY3Rpb25zVG9FbnRpdHlUeXBlIiwic291cmNlRW50aXR5VHlwZSIsInJldHVybkVudGl0eVR5cGUiLCJyZXR1cm5UeXBlIiwibGlua0VudGl0eVR5cGVUb0VudGl0eVNldCIsImtleVByb3AiLCJpc0tleSIsImxpbmtQcm9wZXJ0aWVzVG9Db21wbGV4VHlwZXMiLCJlbnRpdHlQcm9wZXJ0eSIsInByZXBhcmVDb21wbGV4VHlwZXMiLCJzcGxpdFRlcm0iLCJ0ZXJtVmFsdWUiLCJhbGlhc2VkVGVybSIsImxhc3REb3QiLCJ0ZXJtQWxpYXMiLCJjb252ZXJ0VHlwZXMiLCJ2b2NBbGlhcyIsInZvY1Rlcm0iLCJfYW5ub3RhdGlvbnMiLCJ2b2NUZXJtV2l0aFF1YWxpZmllciIsImV4dHJhVW5yZXNvbHZlZEFubm90YXRpb25zIiwiYmFzZU9iaiIsImFubm90YXRpb25QYXJ0IiwidGFyZ2V0U3BsaXQiLCJzbGljZSIsImN1cnJlbnRPYmoiLCJyZXNvbHZlYWJsZSIsInRhcmdldFN0ciIsInRhcmdldFN0cmluZyIsInZlcnNpb24iLCJkaWFnbm9zdGljcyIsImNvbmNhdCIsInJldmVydFZhbHVlVG9HZW5lcmljVHlwZSIsInJlc3VsdCIsInZhbHVlTWF0Y2hlcyIsIm1hdGNoIiwicmVmIiwiYW5ubyIsInJldmVydENvbGxlY3Rpb25JdGVtVG9HZW5lcmljVHlwZSIsInRvU3RyaW5nIiwidG9GaXhlZCIsImlzRGVjaW1hbCIsInZhbHVlT2YiLCJwcm90b3R5cGUiLCJjYWxsIiwiY29sbGVjdGlvbkl0ZW0iLCJvdXRJdGVtIiwiY29sbGVjdGlvbktleSIsImZpbHRlciIsImtleSIsInBhcnNlZEFubm90YXRpb24iLCJyZXZlcnRUZXJtVG9HZW5lcmljVHlwZSIsInVuYWxpYXNlZFRlcm0iLCJxdWFsaWZpZWRTcGxpdCIsImJhc2VBbm5vdGF0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O01BbUNNQSxJLEdBS0wsY0FBWUMsY0FBWixFQUE0Q0MsVUFBNUMsRUFBZ0U7QUFBQTs7QUFDL0QsU0FBS0MsSUFBTCxHQUFZRixjQUFjLENBQUNELElBQTNCO0FBQ0EsU0FBS0ksSUFBTCxHQUFZLE1BQVo7QUFDQSxTQUFLQyxPQUFMLEdBQWVILFVBQWY7QUFDQSxHOztBQUdLLE1BQU1JLGlCQUFvQyxHQUFHLENBQ25EO0FBQUVDLElBQUFBLEtBQUssRUFBRSxjQUFUO0FBQXlCQyxJQUFBQSxTQUFTLEVBQUUsMkJBQXBDO0FBQWlFQyxJQUFBQSxHQUFHLEVBQUU7QUFBdEUsR0FEbUQsRUFFbkQ7QUFBRUYsSUFBQUEsS0FBSyxFQUFFLGFBQVQ7QUFBd0JDLElBQUFBLFNBQVMsRUFBRSwwQkFBbkM7QUFBK0RDLElBQUFBLEdBQUcs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LGlDQUFpQyxDQUFDaE0sVUFBRCxFQUFhK0wsSUFBYixDQUFyQztBQUFBLFNBQW5CO0FBRmI7QUFJQSxLQU5ELE1BTU8sSUFBSTNJLFVBQVUsQ0FBQ3lCLGNBQVgsQ0FBMEIsT0FBMUIsQ0FBSixFQUF3QztBQUM5Qyw2Q0FBWW1JLGNBQVo7QUFBNEI3RSxRQUFBQSxNQUFNLEVBQUU2RCxpQ0FBaUMsQ0FBQ2hNLFVBQUQsRUFBYW9ELFVBQWI7QUFBckU7QUFDQSxLQUZNLE1BRUE7QUFDTiw2Q0FBWTRKLGNBQVo7QUFBNEJ2TSxRQUFBQSxLQUFLLEVBQUVpTCx3QkFBd0IsQ0FBQzFMLFVBQUQsRUFBYW9ELFVBQWI7QUFBM0Q7QUFDQTtBQUNEIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuXHRBbm5vdGF0aW9uIGFzIEVkbUFubm90YXRpb24sXG5cdEFubm90YXRpb25MaXN0LFxuXHRBbm5vdGF0aW9uUmVjb3JkLFxuXHRBbm5vdGF0aW9uVGVybSxcblx0Q29udmVydGVyT3V0cHV0LFxuXHRFeHByZXNzaW9uLFxuXHRQYXJzZXJPdXRwdXQsXG5cdFBhdGhFeHByZXNzaW9uLFxuXHRQcm9wZXJ0eVBhdGgsXG5cdFByb3BlcnR5VmFsdWUsXG5cdEFubm90YXRpb25QYXRoRXhwcmVzc2lvbixcblx0TmF2aWdhdGlvblByb3BlcnR5UGF0aEV4cHJlc3Npb24sXG5cdFByb3BlcnR5UGF0aEV4cHJlc3Npb25cbn0gZnJvbSBcIkBzYXAtdXgvdm9jYWJ1bGFyaWVzLXR5cGVzXCI7XG5pbXBvcnQge1xuXHRBc3NvY2lhdGlvbixcblx0R2VuZXJpY05hdmlnYXRpb25Qcm9wZXJ0eSxcblx0UmVmZXJlbmNlLFxuXHRQcm9wZXJ0eSBhcyBQYXJzZXJQcm9wZXJ0eSxcblx0RW50aXR5VHlwZSBhcyBQYXJzZXJFbnRpdHlUeXBlLFxuXHRDb21wbGV4VHlwZSBhcyBQYXJzZXJDb21wbGV4VHlwZSxcblx0VjJOYXZpZ2F0aW9uUHJvcGVydHksXG5cdFY0TmF2aWdhdGlvblByb3BlcnR5XG59IGZyb20gXCJAc2FwLXV4L3ZvY2FidWxhcmllcy10eXBlcy9kaXN0L1BhcnNlclwiO1xuaW1wb3J0IHtcblx0QW5ub3RhdGlvbixcblx0RW50aXR5VHlwZSxcblx0Q29tcGxleFR5cGUsXG5cdEFjdGlvbixcblx0RW50aXR5U2V0LFxuXHRQcm9wZXJ0eSxcblx0TmF2aWdhdGlvblByb3BlcnR5XG59IGZyb20gXCJAc2FwLXV4L3ZvY2FidWxhcmllcy10eXBlcy9kaXN0L0NvbnZlcnRlclwiO1xuXG5jbGFzcyBQYXRoIHtcblx0cGF0aDogc3RyaW5nO1xuXHQkdGFyZ2V0OiBzdHJpbmc7XG5cdHR5cGU6IHN0cmluZztcblxuXHRjb25zdHJ1Y3RvcihwYXRoRXhwcmVzc2lvbjogUGF0aEV4cHJlc3Npb24sIHRhcmdldE5hbWU6IHN0cmluZykge1xuXHRcdHRoaXMucGF0aCA9IHBhdGhFeHByZXNzaW9uLlBhdGg7XG5cdFx0dGhpcy50eXBlID0gXCJQYXRoXCI7XG5cdFx0dGhpcy4kdGFyZ2V0ID0gdGFyZ2V0TmFtZTtcblx0fVxufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdFJlZmVyZW5jZXM6IFJlZmVyZW5jZXNXaXRoTWFwID0gW1xuXHR7IGFsaWFzOiBcIkNhcGFiaWxpdGllc1wiLCBuYW1lc3BhY2U6IFwiT3JnLk9EYXRhLkNhcGFiaWxpdGllcy5WMVwiLCB1cmk6IFwiXCIgfSxcblx0eyBhbGlhczogXCJBZ2dyZWdhdGlvblwiLCBuYW1lc3BhY2U6IFwiT3JnLk9EYXRhLkFnZ3JlZ2F0aW9uLlYxXCIsIHVyaTogXCJcIiB9LFxuXHR7IGFsaWFzOiBcIlZhbGlkYXRpb25cIiwgbmFtZXNwYWNlOiBcIk9yZy5PRGF0YS5WYWxpZGF0aW9uLlYxXCIsIHVyaTogXCJcIiB9LFxuXHR7IG5hbWVzcGFjZTogXCJPcmcuT0RhdGEuQ29yZS5WMVwiLCBhbGlhczogXCJDb3JlXCIsIHVyaTogXCJcIiB9LFxuXHR7IG5hbWVzcGFjZTogXCJPcmcuT0RhdGEuTWVhc3VyZXMuVjFcIiwgYWxpYXM6IFwiTWVhc3VyZXNcIiwgdXJpOiBcIlwiIH0sXG5cdHsgbmFtZXNwYWNlOiBcImNvbS5zYXAudm9jYWJ1bGFyaWVzLkNvbW1vbi52MVwiLCBhbGlhczogXCJDb21tb25cIiwgdXJpOiBcIlwiIH0sXG5cdHsgbmFtZXNwYWNlOiBcImNvbS5zYXAudm9jYWJ1bGFyaWVzLlVJLnYxXCIsIGFsaWFzOiBcIlVJXCIsIHVyaTogXCJcIiB9LFxuXHR7IG5hbWVzcGFjZTogXCJjb20uc2FwLnZvY2FidWxhcmllcy5TZXNzaW9uLnYxXCIsIGFsaWFzOiBcIlNlc3Npb25cIiwgdXJpOiBcIlwiIH0sXG5cdHsgbmFtZXNwYWNlOiBcImNvbS5zYXAudm9jYWJ1bGFyaWVzLkFuYWx5dGljcy52MVwiLCBhbGlhczogXCJBbmFseXRpY3NcIiwgdXJpOiBcIlwiIH0sXG5cdHsgbmFtZXNwYWNlOiBcImNvbS5zYXAudm9jYWJ1bGFyaWVzLkNvZGVMaXN0LnYxXCIsIGFsaWFzOiBcIkNvZGVMaXN0XCIsIHVyaTogXCJcIiB9LFxuXHR7IG5hbWVzcGFjZTogXCJjb20uc2FwLnZvY2FidWxhcmllcy5QZXJzb25hbERhdGEudjFcIiwgYWxpYXM6IFwiUGVyc29uYWxEYXRhXCIsIHVyaTogXCJcIiB9LFxuXHR7IG5hbWVzcGFjZTogXCJjb20uc2FwLnZvY2FidWxhcmllcy5Db21tdW5pY2F0aW9uLnYxXCIsIGFsaWFzOiBcIkNvbW11bmljYXRpb25cIiwgdXJpOiBcIlwiIH0sXG5cdHsgbmFtZXNwYWNlOiBcImNvbS5zYXAudm9jYWJ1bGFyaWVzLkhUTUw1LnYxXCIsIGFsaWFzOiBcIkhUTUw1XCIsIHVyaTogXCJcIiB9XG5dO1xuXG50eXBlIFJlZmVyZW5jZXNXaXRoTWFwID0gUmVmZXJlbmNlW10gJiB7XG5cdHJlZmVyZW5jZU1hcD86IFJlY29yZDxzdHJpbmcsIFJlZmVyZW5jZT47XG5cdHJldmVyc2VSZWZlcmVuY2VNYXA/OiBSZWNvcmQ8c3RyaW5nLCBSZWZlcmVuY2U+O1xufTtcblxuZnVuY3Rpb24gYWxpYXMocmVmZXJlbmNlczogUmVmZXJlbmNlc1dpdGhNYXAsIHVuYWxpYXNlZFZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRpZiAoIXJlZmVyZW5jZXMucmV2ZXJzZVJlZmVyZW5jZU1hcCkge1xuXHRcdHJlZmVyZW5jZXMucmV2ZXJzZVJlZmVyZW5jZU1hcCA9IHJlZmVyZW5jZXMucmVkdWNlKChtYXA6IFJlY29yZDxzdHJpbmcsIFJlZmVyZW5jZT4sIHJlZmVyZW5jZSkgPT4ge1xuXHRcdFx0bWFwW3JlZmVyZW5jZS5uYW1lc3BhY2VdID0gcmVmZXJlbmNlO1xuXHRcdFx0cmV0dXJuIG1hcDtcblx0XHR9LCB7fSk7XG5cdH1cblx0aWYgKCF1bmFsaWFzZWRWYWx1ZSkge1xuXHRcdHJldHVybiB1bmFsaWFzZWRWYWx1ZTtcblx0fVxuXHRjb25zdCBsYXN0RG90SW5kZXggPSB1bmFsaWFzZWRWYWx1ZS5sYXN0SW5kZXhPZihcIi5cIik7XG5cdGNvbnN0IG5hbWVzcGFjZSA9IHVuYWxpYXNlZFZhbHVlLnN1YnN0cigwLCBsYXN0RG90SW5kZXgpO1xuXHRjb25zdCB2YWx1ZSA9IHVuYWxpYXNlZFZhbHVlLnN1YnN0cihsYXN0RG90SW5kZXggKyAxKTtcblx0Y29uc3QgcmVmZXJlbmNlID0gcmVmZXJlbmNlcy5yZXZlcnNlUmVmZXJlbmNlTWFwW25hbWVzcGFjZV07XG5cdGlmIChyZWZlcmVuY2UpIHtcblx0XHRyZXR1cm4gYCR7cmVmZXJlbmNlLmFsaWFzfS4ke3ZhbHVlfWA7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gVHJ5IHRvIHNlZSBpZiBpdCdzIGFuIGFubm90YXRpb24gUGF0aCBsaWtlIHRvX1NhbGVzT3JkZXIvQFVJLkxpbmVJdGVtXG5cdFx0aWYgKHVuYWxpYXNlZFZhbHVlLmluZGV4T2YoXCJAXCIpICE9PSAtMSkge1xuXHRcdFx0Y29uc3QgW3ByZUFsaWFzLCBwb3N0QWxpYXNdID0gdW5hbGlhc2VkVmFsdWUuc3BsaXQoXCJAXCIpO1xuXHRcdFx0cmV0dXJuIGAke3ByZUFsaWFzfUAke2FsaWFzKHJlZmVyZW5jZXMsIHBvc3RBbGlhcyl9YDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHVuYWxpYXNlZFZhbHVlO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiB1bmFsaWFzKHJlZmVyZW5jZXM6IFJlZmVyZW5jZXNXaXRoTWFwLCBhbGlhc2VkVmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG5cdGlmICghcmVmZXJlbmNlcy5yZWZlcmVuY2VNYXApIHtcblx0XHRyZWZlcmVuY2VzLnJlZmVyZW5jZU1hcCA9IHJlZmVyZW5jZXMucmVkdWNlKChtYXA6IFJlY29yZDxzdHJpbmcsIFJlZmVyZW5jZT4sIHJlZmVyZW5jZSkgPT4ge1xuXHRcdFx0bWFwW3JlZmVyZW5jZS5hbGlhc10gPSByZWZlcmVuY2U7XG5cdFx0XHRyZXR1cm4gbWFwO1xuXHRcdH0sIHt9KTtcblx0fVxuXHRpZiAoIWFsaWFzZWRWYWx1ZSkge1xuXHRcdHJldHVybiBhbGlhc2VkVmFsdWU7XG5cdH1cblx0Y29uc3QgW2FsaWFzLCB2YWx1ZV0gPSBhbGlhc2VkVmFsdWUuc3BsaXQoXCIuXCIpO1xuXHRjb25zdCByZWZlcmVuY2UgPSByZWZlcmVuY2VzLnJlZmVyZW5jZU1hcFthbGlhc107XG5cdGlmIChyZWZlcmVuY2UpIHtcblx0XHRyZXR1cm4gYCR7cmVmZXJlbmNlLm5hbWVzcGFjZX0uJHt2YWx1ZX1gO1xuXHR9IGVsc2Uge1xuXHRcdC8vIFRyeSB0byBzZWUgaWYgaXQncyBhbiBhbm5vdGF0aW9uIFBhdGggbGlrZSB0b19TYWxlc09yZGVyL0BVSS5MaW5lSXRlbVxuXHRcdGlmIChhbGlhc2VkVmFsdWUuaW5kZXhPZihcIkBcIikgIT09IC0xKSB7XG5cdFx0XHRjb25zdCBbcHJlQWxpYXMsIHBvc3RBbGlhc10gPSBhbGlhc2VkVmFsdWUuc3BsaXQoXCJAXCIpO1xuXHRcdFx0cmV0dXJuIGAke3ByZUFsaWFzfUAke3VuYWxpYXMocmVmZXJlbmNlcywgcG9zdEFsaWFzKX1gO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gYWxpYXNlZFZhbHVlO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBidWlsZE9iamVjdE1hcChwYXJzZXJPdXRwdXQ6IFBhcnNlck91dHB1dCk6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuXHRjb25zdCBvYmplY3RNYXA6IGFueSA9IHt9O1xuXHRpZiAocGFyc2VyT3V0cHV0LnNjaGVtYS5lbnRpdHlDb250YWluZXIgJiYgcGFyc2VyT3V0cHV0LnNjaGVtYS5lbnRpdHlDb250YWluZXIuZnVsbHlRdWFsaWZpZWROYW1lKSB7XG5cdFx0b2JqZWN0TWFwW3BhcnNlck91dHB1dC5zY2hlbWEuZW50aXR5Q29udGFpbmVyLmZ1bGx5UXVhbGlmaWVkTmFtZV0gPSBwYXJzZXJPdXRwdXQuc2NoZW1hLmVudGl0eUNvbnRhaW5lcjtcblx0fVxuXHRwYXJzZXJPdXRwdXQuc2NoZW1hLmVudGl0eVNldHMuZm9yRWFjaChlbnRpdHlTZXQgPT4ge1xuXHRcdG9iamVjdE1hcFtlbnRpdHlTZXQuZnVsbHlRdWFsaWZpZWROYW1lXSA9IGVudGl0eVNldDtcblx0fSk7XG5cdHBhcnNlck91dHB1dC5zY2hlbWEuYWN0aW9ucy5mb3JFYWNoKGFjdGlvbiA9PiB7XG5cdFx0b2JqZWN0TWFwW2FjdGlvbi5mdWxseVF1YWxpZmllZE5hbWVdID0gYWN0aW9uO1xuXHRcdG9iamVjdE1hcFthY3Rpb24uZnVsbHlRdWFsaWZpZWROYW1lLnNwbGl0KFwiKFwiKVswXV0gPSBhY3Rpb247XG5cdFx0YWN0aW9uLnBhcmFtZXRlcnMuZm9yRWFjaChwYXJhbWV0ZXIgPT4ge1xuXHRcdFx0b2JqZWN0TWFwW3BhcmFtZXRlci5mdWxseVF1YWxpZmllZE5hbWVdID0gcGFyYW1ldGVyO1xuXHRcdH0pO1xuXHR9KTtcblx0cGFyc2VyT3V0cHV0LnNjaGVtYS5jb21wbGV4VHlwZXMuZm9yRWFjaChjb21wbGV4VHlwZSA9PiB7XG5cdFx0b2JqZWN0TWFwW2NvbXBsZXhUeXBlLmZ1bGx5UXVhbGlmaWVkTmFtZV0gPSBjb21wbGV4VHlwZTtcblx0XHRjb21wbGV4VHlwZS5wcm9wZXJ0aWVzLmZvckVhY2gocHJvcGVydHkgPT4ge1xuXHRcdFx0b2JqZWN0TWFwW3Byb3BlcnR5LmZ1bGx5UXVhbGlmaWVkTmFtZV0gPSBwcm9wZXJ0eTtcblx0XHR9KTtcblx0fSk7XG5cdHBhcnNlck91dHB1dC5zY2hlbWEuZW50aXR5VHlwZXMuZm9yRWFjaChlbnRpdHlUeXBlID0+IHtcblx0XHRvYmplY3RNYXBbZW50aXR5VHlwZS5mdWxseVF1YWxpZmllZE5hbWVdID0gZW50aXR5VHlwZTtcblx0XHRlbnRpdHlUeXBlLmVudGl0eVByb3BlcnRpZXMuZm9yRWFjaChwcm9wZXJ0eSA9PiB7XG5cdFx0XHRvYmplY3RNYXBbcHJvcGVydHkuZnVsbHlRdWFsaWZpZWROYW1lXSA9IHByb3BlcnR5O1xuXHRcdFx0aWYgKHByb3BlcnR5LnR5cGUuaW5kZXhPZihcIkVkbVwiKSA9PT0gLTEpIHtcblx0XHRcdFx0Ly8gSGFuZGxlIGNvbXBsZXggdHlwZXNcblx0XHRcdFx0Y29uc3QgY29tcGxleFR5cGVEZWZpbml0aW9uID0gb2JqZWN0TWFwW3Byb3BlcnR5LnR5cGVdIGFzIENvbXBsZXhUeXBlO1xuXHRcdFx0XHRpZiAoY29tcGxleFR5cGVEZWZpbml0aW9uICYmIGNvbXBsZXhUeXBlRGVmaW5pdGlvbi5wcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdFx0Y29tcGxleFR5cGVEZWZpbml0aW9uLnByb3BlcnRpZXMuZm9yRWFjaChjb21wbGV4VHlwZVByb3AgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgY29tcGxleFR5cGVQcm9wVGFyZ2V0OiBQYXJzZXJQcm9wZXJ0eSA9IE9iamVjdC5hc3NpZ24oY29tcGxleFR5cGVQcm9wLCB7XG5cdFx0XHRcdFx0XHRcdF90eXBlOiBcIlByb3BlcnR5XCIsXG5cdFx0XHRcdFx0XHRcdGZ1bGx5UXVhbGlmaWVkTmFtZTogcHJvcGVydHkuZnVsbHlRdWFsaWZpZWROYW1lICsgXCIvXCIgKyBjb21wbGV4VHlwZVByb3AubmFtZVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRvYmplY3RNYXBbY29tcGxleFR5cGVQcm9wVGFyZ2V0LmZ1bGx5UXVhbGlmaWVkTmFtZV0gPSBjb21wbGV4VHlwZVByb3BUYXJnZXQ7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0XHRlbnRpdHlUeXBlLm5hdmlnYXRpb25Qcm9wZXJ0aWVzLmZvckVhY2gobmF2UHJvcGVydHkgPT4ge1xuXHRcdFx0b2JqZWN0TWFwW25hdlByb3BlcnR5LmZ1bGx5UXVhbGlmaWVkTmFtZV0gPSBuYXZQcm9wZXJ0eTtcblx0XHR9KTtcblx0fSk7XG5cblx0T2JqZWN0LmtleXMocGFyc2VyT3V0cHV0LnNjaGVtYS5hbm5vdGF0aW9ucykuZm9yRWFjaChhbm5vdGF0aW9uU291cmNlID0+IHtcblx0XHRwYXJzZXJPdXRwdXQuc2NoZW1hLmFubm90YXRpb25zW2Fubm90YXRpb25Tb3VyY2VdLmZvckVhY2goYW5ub3RhdGlvbkxpc3QgPT4ge1xuXHRcdFx0Y29uc3QgY3VycmVudFRhcmdldE5hbWUgPSB1bmFsaWFzKHBhcnNlck91dHB1dC5yZWZlcmVuY2VzLCBhbm5vdGF0aW9uTGlzdC50YXJnZXQpO1xuXHRcdFx0YW5ub3RhdGlvbkxpc3QuYW5ub3RhdGlvbnMuZm9yRWFjaChhbm5vdGF0aW9uID0+IHtcblx0XHRcdFx0bGV0IGFubm90YXRpb25GUU4gPSBgJHtjdXJyZW50VGFyZ2V0TmFtZX1AJHt1bmFsaWFzKHBhcnNlck91dHB1dC5yZWZlcmVuY2VzLCBhbm5vdGF0aW9uLnRlcm0pfWA7XG5cdFx0XHRcdGlmIChhbm5vdGF0aW9uLnF1YWxpZmllcikge1xuXHRcdFx0XHRcdGFubm90YXRpb25GUU4gKz0gYCMke2Fubm90YXRpb24ucXVhbGlmaWVyfWA7XG5cdFx0XHRcdH1cblx0XHRcdFx0b2JqZWN0TWFwW2Fubm90YXRpb25GUU5dID0gYW5ub3RhdGlvbjtcblx0XHRcdFx0KGFubm90YXRpb24gYXMgQW5ub3RhdGlvbikuZnVsbHlRdWFsaWZpZWROYW1lID0gYW5ub3RhdGlvbkZRTjtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9KTtcblx0cmV0dXJuIG9iamVjdE1hcDtcbn1cblxuZnVuY3Rpb24gY29tYmluZVBhdGgoY3VycmVudFRhcmdldDogc3RyaW5nLCBwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRpZiAocGF0aC5zdGFydHNXaXRoKFwiQFwiKSkge1xuXHRcdHJldHVybiBjdXJyZW50VGFyZ2V0ICsgdW5hbGlhcyhkZWZhdWx0UmVmZXJlbmNlcywgcGF0aCk7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIGN1cnJlbnRUYXJnZXQgKyBcIi9cIiArIHBhdGg7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVRhcmdldChcblx0b2JqZWN0TWFwOiBhbnksXG5cdGN1cnJlbnRUYXJnZXQ6IGFueSxcblx0cGF0aDogc3RyaW5nLFxuXHRwYXRoT25seTogYm9vbGVhbiA9IGZhbHNlLFxuXHRpbmNsdWRlVmlzaXRlZE9iamVjdHM6IGJvb2xlYW4gPSBmYWxzZVxuKSB7XG5cdGlmICghcGF0aCkge1xuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH1cblx0Y29uc3QgYVZpc2l0ZWRPYmplY3RzOiBhbnlbXSA9IFtdO1xuXHRwYXRoID0gY29tYmluZVBhdGgoY3VycmVudFRhcmdldC5mdWxseVF1YWxpZmllZE5hbWUsIHBhdGgpO1xuXG5cdGNvbnN0IHBhdGhTcGxpdCA9IHBhdGguc3BsaXQoXCIvXCIpO1xuXHRsZXQgY3VycmVudFBhdGggPSBwYXRoO1xuXHRjb25zdCB0YXJnZXQgPSBwYXRoU3BsaXQucmVkdWNlKChjdXJyZW50VmFsdWU6IGFueSwgcGF0aFBhcnQpID0+IHtcblx0XHRpZiAocGF0aFBhcnQubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gY3VycmVudFZhbHVlO1xuXHRcdH1cblx0XHRpZiAoaW5jbHVkZVZpc2l0ZWRPYmplY3RzICYmIGN1cnJlbnRWYWx1ZSAhPT0gbnVsbCkge1xuXHRcdFx0YVZpc2l0ZWRPYmplY3RzLnB1c2goY3VycmVudFZhbHVlKTtcblx0XHR9XG5cdFx0aWYgKCFjdXJyZW50VmFsdWUpIHtcblx0XHRcdGN1cnJlbnRQYXRoID0gcGF0aFBhcnQ7XG5cdFx0fSBlbHNlIGlmIChjdXJyZW50VmFsdWUuX3R5cGUgPT09IFwiRW50aXR5U2V0XCIgJiYgY3VycmVudFZhbHVlLmVudGl0eVR5cGUpIHtcblx0XHRcdGN1cnJlbnRQYXRoID0gY29tYmluZVBhdGgoY3VycmVudFZhbHVlLmVudGl0eVR5cGVOYW1lLCBwYXRoUGFydCk7XG5cdFx0fSBlbHNlIGlmIChjdXJyZW50VmFsdWUuX3R5cGUgPT09IFwiTmF2aWdhdGlvblByb3BlcnR5XCIgJiYgY3VycmVudFZhbHVlLnRhcmdldFR5cGVOYW1lKSB7XG5cdFx0XHRjdXJyZW50UGF0aCA9IGNvbWJpbmVQYXRoKGN1cnJlbnRWYWx1ZS50YXJnZXRUeXBlTmFtZSwgcGF0aFBhcnQpO1xuXHRcdH0gZWxzZSBpZiAoY3VycmVudFZhbHVlLl90eXBlID09PSBcIk5hdmlnYXRpb25Qcm9wZXJ0eVwiICYmIGN1cnJlbnRWYWx1ZS50YXJnZXRUeXBlKSB7XG5cdFx0XHRjdXJyZW50UGF0aCA9IGNvbWJpbmVQYXRoKGN1cnJlbnRWYWx1ZS50YXJnZXRUeXBlLmZ1bGx5UXVhbGlmaWVkTmFtZSwgcGF0aFBhcnQpO1xuXHRcdH0gZWxzZSBpZiAoY3VycmVudFZhbHVlLl90eXBlID09PSBcIlByb3BlcnR5XCIpIHtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUudHlwZS5pbmRleE9mKFwiRWRtXCIpID09PSAtMSkge1xuXHRcdFx0XHQvLyBUaGlzIGlzIGEgY29tcGxleCB0eXBlXG5cdFx0XHRcdGN1cnJlbnRQYXRoID0gY29tYmluZVBhdGgoY3VycmVudFZhbHVlLmZ1bGx5UXVhbGlmaWVkTmFtZSwgcGF0aFBhcnQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y3VycmVudFBhdGggPSBjb21iaW5lUGF0aChcblx0XHRcdFx0XHRjdXJyZW50VGFyZ2V0LmZ1bGx5UXVhbGlmaWVkTmFtZS5zdWJzdHIoMCwgY3VycmVudFRhcmdldC5mdWxseVF1YWxpZmllZE5hbWUubGFzdEluZGV4T2YoXCIvXCIpKSxcblx0XHRcdFx0XHRwYXRoUGFydFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoY3VycmVudFZhbHVlLl90eXBlID09PSBcIkFjdGlvblwiICYmIGN1cnJlbnRWYWx1ZS5pc0JvdW5kKSB7XG5cdFx0XHRjdXJyZW50UGF0aCA9IGNvbWJpbmVQYXRoKGN1cnJlbnRWYWx1ZS5mdWxseVF1YWxpZmllZE5hbWUsIHBhdGhQYXJ0KTtcblx0XHRcdGlmICghb2JqZWN0TWFwW2N1cnJlbnRQYXRoXSkge1xuXHRcdFx0XHRjdXJyZW50UGF0aCA9IGNvbWJpbmVQYXRoKGN1cnJlbnRWYWx1ZS5zb3VyY2VUeXBlLCBwYXRoUGFydCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChjdXJyZW50VmFsdWUuX3R5cGUgPT09IFwiQWN0aW9uUGFyYW1ldGVyXCIgJiYgY3VycmVudFZhbHVlLmlzRW50aXR5U2V0KSB7XG5cdFx0XHRjdXJyZW50UGF0aCA9IGNvbWJpbmVQYXRoKGN1cnJlbnRWYWx1ZS50eXBlLCBwYXRoUGFydCk7XG5cdFx0fSBlbHNlIGlmIChjdXJyZW50VmFsdWUuX3R5cGUgPT09IFwiQWN0aW9uUGFyYW1ldGVyXCIgJiYgIWN1cnJlbnRWYWx1ZS5pc0VudGl0eVNldCkge1xuXHRcdFx0Y3VycmVudFBhdGggPSBjb21iaW5lUGF0aChcblx0XHRcdFx0Y3VycmVudFRhcmdldC5mdWxseVF1YWxpZmllZE5hbWUuc3Vic3RyKDAsIGN1cnJlbnRUYXJnZXQuZnVsbHlRdWFsaWZpZWROYW1lLmxhc3RJbmRleE9mKFwiL1wiKSksXG5cdFx0XHRcdHBhdGhQYXJ0XG5cdFx0XHQpO1xuXHRcdFx0aWYgKCFvYmplY3RNYXBbY3VycmVudFBhdGhdKSB7XG5cdFx0XHRcdGxldCBsYXN0SWR4ID0gY3VycmVudFRhcmdldC5mdWxseVF1YWxpZmllZE5hbWUubGFzdEluZGV4T2YoXCIvXCIpO1xuXHRcdFx0XHRpZiAobGFzdElkeCA9PT0gLTEpIHtcblx0XHRcdFx0XHRsYXN0SWR4ID0gY3VycmVudFRhcmdldC5mdWxseVF1YWxpZmllZE5hbWUubGVuZ3RoO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGN1cnJlbnRQYXRoID0gY29tYmluZVBhdGgoXG5cdFx0XHRcdFx0KG9iamVjdE1hcFtjdXJyZW50VGFyZ2V0LmZ1bGx5UXVhbGlmaWVkTmFtZS5zdWJzdHIoMCwgbGFzdElkeCldIGFzIEFjdGlvbikuc291cmNlVHlwZSxcblx0XHRcdFx0XHRwYXRoUGFydFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJyZW50UGF0aCA9IGNvbWJpbmVQYXRoKGN1cnJlbnRWYWx1ZS5mdWxseVF1YWxpZmllZE5hbWUsIHBhdGhQYXJ0KTtcblx0XHRcdGlmIChjdXJyZW50VmFsdWVbcGF0aFBhcnRdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRWYWx1ZVtwYXRoUGFydF07XG5cdFx0XHR9IGVsc2UgaWYgKHBhdGhQYXJ0ID09PSBcIiRBbm5vdGF0aW9uUGF0aFwiICYmIGN1cnJlbnRWYWx1ZS4kdGFyZ2V0KSB7XG5cdFx0XHRcdHJldHVybiBjdXJyZW50VmFsdWUuJHRhcmdldDtcblx0XHRcdH0gZWxzZSBpZiAoY3VycmVudFZhbHVlLmhhc093blByb3BlcnR5KFwiJFR5cGVcIikpIHtcblx0XHRcdFx0Ly8gVGhpcyBpcyBub3cgYW4gYW5ub3RhdGlvbiB2YWx1ZVxuXHRcdFx0XHRjb25zdCBlbnRpdHlUeXBlID0gb2JqZWN0TWFwW2N1cnJlbnRWYWx1ZS5mdWxseVF1YWxpZmllZE5hbWUuc3BsaXQoXCJAXCIpWzBdXTtcblx0XHRcdFx0aWYgKGVudGl0eVR5cGUpIHtcblx0XHRcdFx0XHRjdXJyZW50UGF0aCA9IGNvbWJpbmVQYXRoKGVudGl0eVR5cGUuZnVsbHlRdWFsaWZpZWROYW1lLCBwYXRoUGFydCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG9iamVjdE1hcFtjdXJyZW50UGF0aF07XG5cdH0sIG51bGwpO1xuXHRpZiAoIXRhcmdldCkge1xuXHRcdEFOTk9UQVRJT05fRVJST1JTLnB1c2goeyBtZXNzYWdlOiBcIlVuYWJsZSB0byByZXNvbHZlIHRoZSBwYXRoIGV4cHJlc3Npb24gXCIgKyBwYXRoIH0pO1xuXHRcdC8vIGNvbnNvbGUubG9nKFwiTWlzc2luZyB0YXJnZXQgXCIgKyBwYXRoKTtcblx0fVxuXHRpZiAocGF0aE9ubHkpIHtcblx0XHRyZXR1cm4gY3VycmVudFBhdGg7XG5cdH1cblx0aWYgKGluY2x1ZGVWaXNpdGVkT2JqZWN0cykge1xuXHRcdHJldHVybiB7XG5cdFx0XHR2aXNpdGVkT2JqZWN0czogYVZpc2l0ZWRPYmplY3RzLFxuXHRcdFx0dGFyZ2V0OiB0YXJnZXRcblx0XHR9O1xuXHR9XG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGlzQW5ub3RhdGlvblBhdGgocGF0aFN0cjogc3RyaW5nKTogYm9vbGVhbiB7XG5cdHJldHVybiBwYXRoU3RyLmluZGV4T2YoXCJAXCIpICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VWYWx1ZShcblx0cHJvcGVydHlWYWx1ZTogRXhwcmVzc2lvbixcblx0dmFsdWVGUU46IHN0cmluZyxcblx0cGFyc2VyT3V0cHV0OiBQYXJzZXJPdXRwdXQsXG5cdGN1cnJlbnRUYXJnZXQ6IGFueSxcblx0b2JqZWN0TWFwOiBhbnksXG5cdHRvUmVzb2x2ZTogUmVzb2x2ZWFibGVbXSxcblx0YW5ub3RhdGlvblNvdXJjZTogc3RyaW5nLFxuXHR1bnJlc29sdmVkQW5ub3RhdGlvbnM6IEFubm90YXRpb25MaXN0W11cbikge1xuXHRpZiAocHJvcGVydHlWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXHRzd2l0Y2ggKHByb3BlcnR5VmFsdWUudHlwZSkge1xuXHRcdGNhc2UgXCJTdHJpbmdcIjpcblx0XHRcdHJldHVybiBwcm9wZXJ0eVZhbHVlLlN0cmluZztcblx0XHRjYXNlIFwiSW50XCI6XG5cdFx0XHRyZXR1cm4gcHJvcGVydHlWYWx1ZS5JbnQ7XG5cdFx0Y2FzZSBcIkJvb2xcIjpcblx0XHRcdHJldHVybiBwcm9wZXJ0eVZhbHVlLkJvb2w7XG5cdFx0Y2FzZSBcIkRlY2ltYWxcIjpcblx0XHRcdHJldHVybiBwcm9wZXJ0eVZhbHVlLkRlY2ltYWw7XG5cdFx0Y2FzZSBcIkRhdGVcIjpcblx0XHRcdHJldHVybiBwcm9wZXJ0eVZhbHVlLkRhdGU7XG5cdFx0Y2FzZSBcIkVudW1NZW1iZXJcIjpcblx0XHRcdHJldHVybiBhbGlhcyhwYXJzZXJPdXRwdXQucmVmZXJlbmNlcywgcHJvcGVydHlWYWx1ZS5FbnVtTWVtYmVyKTtcblx0XHRjYXNlIFwiUHJvcGVydHlQYXRoXCI6XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcIlByb3BlcnR5UGF0aFwiLFxuXHRcdFx0XHR2YWx1ZTogcHJvcGVydHlWYWx1ZS5Qcm9wZXJ0eVBhdGgsXG5cdFx0XHRcdGZ1bGx5UXVhbGlmaWVkTmFtZTogdmFsdWVGUU4sXG5cdFx0XHRcdCR0YXJnZXQ6IHJlc29sdmVUYXJnZXQob2JqZWN0TWFwLCBjdXJyZW50VGFyZ2V0LCBwcm9wZXJ0eVZhbHVlLlByb3BlcnR5UGF0aClcblx0XHRcdH07XG5cdFx0Y2FzZSBcIk5hdmlnYXRpb25Qcm9wZXJ0eVBhdGhcIjpcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IFwiTmF2aWdhdGlvblByb3BlcnR5UGF0aFwiLFxuXHRcdFx0XHR2YWx1ZTogcHJvcGVydHlWYWx1ZS5OYXZpZ2F0aW9uUHJvcGVydHlQYXRoLFxuXHRcdFx0XHRmdWxseVF1YWxpZmllZE5hbWU6IHZhbHVlRlFOLFxuXHRcdFx0XHQkdGFyZ2V0OiByZXNvbHZlVGFyZ2V0KG9iamVjdE1hcCwgY3VycmVudFRhcmdldCwgcHJvcGVydHlWYWx1ZS5OYXZpZ2F0aW9uUHJvcGVydHlQYXRoKVxuXHRcdFx0fTtcblx0XHRjYXNlIFwiQW5ub3RhdGlvblBhdGhcIjpcblx0XHRcdGNvbnN0IGFubm90YXRpb25UYXJnZXQgPSByZXNvbHZlVGFyZ2V0KFxuXHRcdFx0XHRvYmplY3RNYXAsXG5cdFx0XHRcdGN1cnJlbnRUYXJnZXQsXG5cdFx0XHRcdHVuYWxpYXMocGFyc2VyT3V0cHV0LnJlZmVyZW5jZXMsIHByb3BlcnR5VmFsdWUuQW5ub3RhdGlvblBhdGgpIGFzIHN0cmluZyxcblx0XHRcdFx0dHJ1ZVxuXHRcdFx0KTtcblx0XHRcdGNvbnN0IGFubm90YXRpb25QYXRoID0ge1xuXHRcdFx0XHR0eXBlOiBcIkFubm90YXRpb25QYXRoXCIsXG5cdFx0XHRcdHZhbHVlOiBwcm9wZXJ0eVZhbHVlLkFubm90YXRpb25QYXRoLFxuXHRcdFx0XHRmdWxseVF1YWxpZmllZE5hbWU6IHZhbHVlRlFOLFxuXHRcdFx0XHQkdGFyZ2V0OiBhbm5vdGF0aW9uVGFyZ2V0XG5cdFx0XHR9O1xuXHRcdFx0dG9SZXNvbHZlLnB1c2goYW5ub3RhdGlvblBhdGgpO1xuXHRcdFx0cmV0dXJuIGFubm90YXRpb25QYXRoO1xuXHRcdGNhc2UgXCJQYXRoXCI6XG5cdFx0XHRpZiAoaXNBbm5vdGF0aW9uUGF0aChwcm9wZXJ0eVZhbHVlLlBhdGgpKSB7XG5cdFx0XHRcdC8vIElmIGl0J3MgYW4gYW5udG9hdGlvbiB0aGF0IHdlIGNhbiByZXNvbHZlLCByZXNvbHZlIGl0ICFcblx0XHRcdFx0Y29uc3QgJHRhcmdldCA9IHJlc29sdmVUYXJnZXQob2JqZWN0TWFwLCBjdXJyZW50VGFyZ2V0LCBwcm9wZXJ0eVZhbHVlLlBhdGgpO1xuXHRcdFx0XHRpZiAoJHRhcmdldCkge1xuXHRcdFx0XHRcdHJldHVybiAkdGFyZ2V0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRjb25zdCAkdGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChvYmplY3RNYXAsIGN1cnJlbnRUYXJnZXQsIHByb3BlcnR5VmFsdWUuUGF0aCwgdHJ1ZSk7XG5cdFx0XHRjb25zdCBwYXRoID0gbmV3IFBhdGgocHJvcGVydHlWYWx1ZSwgJHRhcmdldCk7XG5cdFx0XHR0b1Jlc29sdmUucHVzaChwYXRoKTtcblx0XHRcdHJldHVybiBwYXRoO1xuXG5cdFx0Y2FzZSBcIlJlY29yZFwiOlxuXHRcdFx0cmV0dXJuIHBhcnNlUmVjb3JkKFxuXHRcdFx0XHRwcm9wZXJ0eVZhbHVlLlJlY29yZCxcblx0XHRcdFx0dmFsdWVGUU4sXG5cdFx0XHRcdHBhcnNlck91dHB1dCxcblx0XHRcdFx0Y3VycmVudFRhcmdldCxcblx0XHRcdFx0b2JqZWN0TWFwLFxuXHRcdFx0XHR0b1Jlc29sdmUsXG5cdFx0XHRcdGFubm90YXRpb25Tb3VyY2UsXG5cdFx0XHRcdHVucmVzb2x2ZWRBbm5vdGF0aW9uc1xuXHRcdFx0KTtcblx0XHRjYXNlIFwiQ29sbGVjdGlvblwiOlxuXHRcdFx0cmV0dXJuIHBhcnNlQ29sbGVjdGlvbihcblx0XHRcdFx0cHJvcGVydHlWYWx1ZS5Db2xsZWN0aW9uLFxuXHRcdFx0XHR2YWx1ZUZRTixcblx0XHRcdFx0cGFyc2VyT3V0cHV0LFxuXHRcdFx0XHRjdXJyZW50VGFyZ2V0LFxuXHRcdFx0XHRvYmplY3RNYXAsXG5cdFx0XHRcdHRvUmVzb2x2ZSxcblx0XHRcdFx0YW5ub3RhdGlvblNvdXJjZSxcblx0XHRcdFx0dW5yZXNvbHZlZEFubm90YXRpb25zXG5cdFx0XHQpO1xuXHRcdGNhc2UgXCJBcHBseVwiOlxuXHRcdGNhc2UgXCJJZlwiOlxuXHRcdFx0cmV0dXJuIHByb3BlcnR5VmFsdWU7XG5cdH1cbn1cblxuZnVuY3Rpb24gcGFyc2VSZWNvcmQoXG5cdHJlY29yZERlZmluaXRpb246IEFubm90YXRpb25SZWNvcmQsXG5cdGN1cnJlbnRGUU46IHN0cmluZyxcblx0cGFyc2VyT3V0cHV0OiBQYXJzZXJPdXRwdXQsXG5cdGN1cnJlbnRUYXJnZXQ6IGFueSxcblx0b2JqZWN0TWFwOiBhbnksXG5cdHRvUmVzb2x2ZTogUmVzb2x2ZWFibGVbXSxcblx0YW5ub3RhdGlvblNvdXJjZTogc3RyaW5nLFxuXHR1bnJlc29sdmVkQW5ub3RhdGlvbnM6IEFubm90YXRpb25MaXN0W11cbikge1xuXHRjb25zdCBhbm5vdGF0aW9uVGVybTogYW55ID0ge1xuXHRcdCRUeXBlOiB1bmFsaWFzKHBhcnNlck91dHB1dC5yZWZlcmVuY2VzLCByZWNvcmREZWZpbml0aW9uLnR5cGUpLFxuXHRcdGZ1bGx5UXVhbGlmaWVkTmFtZTogY3VycmVudEZRTlxuXHR9O1xuXHRjb25zdCBhbm5vdGF0aW9uQ29udGVudDogYW55ID0ge307XG5cdGlmIChyZWNvcmREZWZpbml0aW9uLmFubm90YXRpb25zICYmIEFycmF5LmlzQXJyYXkocmVjb3JkRGVmaW5pdGlvbi5hbm5vdGF0aW9ucykpIHtcblx0XHRjb25zdCBzdWJBbm5vdGF0aW9uTGlzdCA9IHtcblx0XHRcdHRhcmdldDogY3VycmVudEZRTixcblx0XHRcdGFubm90YXRpb25zOiByZWNvcmREZWZpbml0aW9uLmFubm90YXRpb25zLFxuXHRcdFx0X19zb3VyY2U6IGFubm90YXRpb25Tb3VyY2Vcblx0XHR9O1xuXHRcdHVucmVzb2x2ZWRBbm5vdGF0aW9ucy5wdXNoKHN1YkFubm90YXRpb25MaXN0KTtcblx0fVxuXHRyZWNvcmREZWZpbml0aW9uLnByb3BlcnR5VmFsdWVzLmZvckVhY2goKHByb3BlcnR5VmFsdWU6IFByb3BlcnR5VmFsdWUpID0+IHtcblx0XHRhbm5vdGF0aW9uQ29udGVudFtwcm9wZXJ0eVZhbHVlLm5hbWVdID0gcGFyc2VWYWx1ZShcblx0XHRcdHByb3BlcnR5VmFsdWUudmFsdWUsXG5cdFx0XHRgJHtjdXJyZW50RlFOfS8ke3Byb3BlcnR5VmFsdWUubmFtZX1gLFxuXHRcdFx0cGFyc2VyT3V0cHV0LFxuXHRcdFx0Y3VycmVudFRhcmdldCxcblx0XHRcdG9iamVjdE1hcCxcblx0XHRcdHRvUmVzb2x2ZSxcblx0XHRcdGFubm90YXRpb25Tb3VyY2UsXG5cdFx0XHR1bnJlc29sdmVkQW5ub3RhdGlvbnNcblx0XHQpO1xuXHRcdGlmIChwcm9wZXJ0eVZhbHVlLmFubm90YXRpb25zICYmIEFycmF5LmlzQXJyYXkocHJvcGVydHlWYWx1ZS5hbm5vdGF0aW9ucykpIHtcblx0XHRcdGNvbnN0IHN1YkFubm90YXRpb25MaXN0ID0ge1xuXHRcdFx0XHR0YXJnZXQ6IGAke2N1cnJlbnRGUU59LyR7cHJvcGVydHlWYWx1ZS5uYW1lfWAsXG5cdFx0XHRcdGFubm90YXRpb25zOiBwcm9wZXJ0eVZhbHVlLmFubm90YXRpb25zLFxuXHRcdFx0XHRfX3NvdXJjZTogYW5ub3RhdGlvblNvdXJjZVxuXHRcdFx0fTtcblx0XHRcdHVucmVzb2x2ZWRBbm5vdGF0aW9ucy5wdXNoKHN1YkFubm90YXRpb25MaXN0KTtcblx0XHR9XG5cdFx0aWYgKFxuXHRcdFx0YW5ub3RhdGlvbkNvbnRlbnQuaGFzT3duUHJvcGVydHkoXCJBY3Rpb25cIikgJiZcblx0XHRcdChhbm5vdGF0aW9uVGVybS4kVHlwZSA9PT0gXCJjb20uc2FwLnZvY2FidWxhcmllcy5VSS52MS5EYXRhRmllbGRGb3JBY3Rpb25cIiB8fFxuXHRcdFx0XHRhbm5vdGF0aW9uVGVybS4kVHlwZSA9PT0gXCJjb20uc2FwLnZvY2FidWxhcmllcy5VSS52MS5EYXRhRmllbGRXaXRoQWN0aW9uXCIpXG5cdFx0KSB7XG5cdFx0XHRpZiAoY3VycmVudFRhcmdldC5hY3Rpb25zKSB7XG5cdFx0XHRcdGFubm90YXRpb25Db250ZW50LkFjdGlvblRhcmdldCA9XG5cdFx0XHRcdFx0Y3VycmVudFRhcmdldC5hY3Rpb25zW2Fubm90YXRpb25Db250ZW50LkFjdGlvbl0gfHwgb2JqZWN0TWFwW2Fubm90YXRpb25Db250ZW50LkFjdGlvbl07XG5cdFx0XHRcdGlmICghYW5ub3RhdGlvbkNvbnRlbnQuQWN0aW9uVGFyZ2V0KSB7XG5cdFx0XHRcdFx0Ly8gQWRkIHRvIGRpYWdub3N0aWNzIGRlYnVnZ2VyO1xuXHRcdFx0XHRcdEFOTk9UQVRJT05fRVJST1JTLnB1c2goe1xuXHRcdFx0XHRcdFx0bWVzc2FnZTpcblx0XHRcdFx0XHRcdFx0XCJVbmFibGUgdG8gcmVzb2x2ZSB0aGUgYWN0aW9uIFwiICtcblx0XHRcdFx0XHRcdFx0YW5ub3RhdGlvbkNvbnRlbnQuQWN0aW9uICtcblx0XHRcdFx0XHRcdFx0XCIgZGVmaW5lZCBmb3IgXCIgK1xuXHRcdFx0XHRcdFx0XHRhbm5vdGF0aW9uVGVybS5mdWxseVF1YWxpZmllZE5hbWVcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cdHJldHVybiBPYmplY3QuYXNzaWduKGFubm90YXRpb25UZXJtLCBhbm5vdGF0aW9uQ29udGVudCk7XG59XG5cbmV4cG9ydCB0eXBlIENvbGxlY3Rpb25UeXBlID1cblx0fCBcIlByb3BlcnR5UGF0aFwiXG5cdHwgXCJQYXRoXCJcblx0fCBcIkFubm90YXRpb25QYXRoXCJcblx0fCBcIk5hdmlnYXRpb25Qcm9wZXJ0eVBhdGhcIlxuXHR8IFwiUmVjb3JkXCJcblx0fCBcIlN0cmluZ1wiXG5cdHwgXCJFbXB0eUNvbGxlY3Rpb25cIjtcblxuZnVuY3Rpb24gZ2V0T3JJbmZlckNvbGxlY3Rpb25UeXBlKGNvbGxlY3Rpb25EZWZpbml0aW9uOiBhbnlbXSk6IENvbGxlY3Rpb25UeXBlIHtcblx0bGV0IHR5cGU6IENvbGxlY3Rpb25UeXBlID0gKGNvbGxlY3Rpb25EZWZpbml0aW9uIGFzIGFueSkudHlwZTtcblx0aWYgKHR5cGUgPT09IHVuZGVmaW5lZCAmJiBjb2xsZWN0aW9uRGVmaW5pdGlvbi5sZW5ndGggPiAwKSB7XG5cdFx0Y29uc3QgZmlyc3RDb2xJdGVtID0gY29sbGVjdGlvbkRlZmluaXRpb25bMF07XG5cdFx0aWYgKGZpcnN0Q29sSXRlbS5oYXNPd25Qcm9wZXJ0eShcIlByb3BlcnR5UGF0aFwiKSkge1xuXHRcdFx0dHlwZSA9IFwiUHJvcGVydHlQYXRoXCI7XG5cdFx0fSBlbHNlIGlmIChmaXJzdENvbEl0ZW0uaGFzT3duUHJvcGVydHkoXCJQYXRoXCIpKSB7XG5cdFx0XHR0eXBlID0gXCJQYXRoXCI7XG5cdFx0fSBlbHNlIGlmIChmaXJzdENvbEl0ZW0uaGFzT3duUHJvcGVydHkoXCJBbm5vdGF0aW9uUGF0aFwiKSkge1xuXHRcdFx0dHlwZSA9IFwiQW5ub3RhdGlvblBhdGhcIjtcblx0XHR9IGVsc2UgaWYgKGZpcnN0Q29sSXRlbS5oYXNPd25Qcm9wZXJ0eShcIk5hdmlnYXRpb25Qcm9wZXJ0eVBhdGhcIikpIHtcblx0XHRcdHR5cGUgPSBcIk5hdmlnYXRpb25Qcm9wZXJ0eVBhdGhcIjtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0dHlwZW9mIGZpcnN0Q29sSXRlbSA9PT0gXCJvYmplY3RcIiAmJlxuXHRcdFx0KGZpcnN0Q29sSXRlbS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikgfHwgZmlyc3RDb2xJdGVtLmhhc093blByb3BlcnR5KFwicHJvcGVydHlWYWx1ZXNcIikpXG5cdFx0KSB7XG5cdFx0XHR0eXBlID0gXCJSZWNvcmRcIjtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBmaXJzdENvbEl0ZW0gPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdHR5cGUgPSBcIlN0cmluZ1wiO1xuXHRcdH1cblx0fSBlbHNlIGlmICh0eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHR0eXBlID0gXCJFbXB0eUNvbGxlY3Rpb25cIjtcblx0fVxuXHRyZXR1cm4gdHlwZTtcbn1cblxuZnVuY3Rpb24gcGFyc2VDb2xsZWN0aW9uKFxuXHRjb2xsZWN0aW9uRGVmaW5pdGlvbjogYW55W10sXG5cdHBhcmVudEZRTjogc3RyaW5nLFxuXHRwYXJzZXJPdXRwdXQ6IFBhcnNlck91dHB1dCxcblx0Y3VycmVudFRhcmdldDogYW55LFxuXHRvYmplY3RNYXA6IGFueSxcblx0dG9SZXNvbHZlOiBSZXNvbHZlYWJsZVtdLFxuXHRhbm5vdGF0aW9uU291cmNlOiBzdHJpbmcsXG5cdHVucmVzb2x2ZWRBbm5vdGF0aW9uczogQW5ub3RhdGlvbkxpc3RbXVxuKSB7XG5cdGNvbnN0IGNvbGxlY3Rpb25EZWZpbml0aW9uVHlwZSA9IGdldE9ySW5mZXJDb2xsZWN0aW9uVHlwZShjb2xsZWN0aW9uRGVmaW5pdGlvbik7XG5cdHN3aXRjaCAoY29sbGVjdGlvbkRlZmluaXRpb25UeXBlKSB7XG5cdFx0Y2FzZSBcIlByb3BlcnR5UGF0aFwiOlxuXHRcdFx0cmV0dXJuIGNvbGxlY3Rpb25EZWZpbml0aW9uLm1hcCgocHJvcGVydHlQYXRoLCBwcm9wZXJ0eUlkeCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwiUHJvcGVydHlQYXRoXCIsXG5cdFx0XHRcdFx0dmFsdWU6IHByb3BlcnR5UGF0aC5Qcm9wZXJ0eVBhdGgsXG5cdFx0XHRcdFx0ZnVsbHlRdWFsaWZpZWROYW1lOiBgJHtwYXJlbnRGUU59LyR7cHJvcGVydHlJZHh9YCxcblx0XHRcdFx0XHQkdGFyZ2V0OiByZXNvbHZlVGFyZ2V0KG9iamVjdE1hcCwgY3VycmVudFRhcmdldCwgcHJvcGVydHlQYXRoLlByb3BlcnR5UGF0aClcblx0XHRcdFx0fTtcblx0XHRcdH0pO1xuXHRcdGNhc2UgXCJQYXRoXCI6XG5cdFx0XHRyZXR1cm4gY29sbGVjdGlvbkRlZmluaXRpb24ubWFwKHBhdGhWYWx1ZSA9PiB7XG5cdFx0XHRcdGlmIChpc0Fubm90YXRpb25QYXRoKHBhdGhWYWx1ZS5QYXRoKSkge1xuXHRcdFx0XHRcdC8vIElmIGl0J3MgYW4gYW5udG9hdGlvbiB0aGF0IHdlIGNhbiByZXNvbHZlLCByZXNvbHZlIGl0ICFcblx0XHRcdFx0XHRjb25zdCAkdGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChvYmplY3RNYXAsIGN1cnJlbnRUYXJnZXQsIHBhdGhWYWx1ZS5QYXRoKTtcblx0XHRcdFx0XHRpZiAoJHRhcmdldCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICR0YXJnZXQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0ICR0YXJnZXQgPSByZXNvbHZlVGFyZ2V0KG9iamVjdE1hcCwgY3VycmVudFRhcmdldCwgcGF0aFZhbHVlLlBhdGgsIHRydWUpO1xuXHRcdFx0XHRjb25zdCBwYXRoID0gbmV3IFBhdGgocGF0aFZhbHVlLCAkdGFyZ2V0KTtcblx0XHRcdFx0dG9SZXNvbHZlLnB1c2gocGF0aCk7XG5cdFx0XHRcdHJldHVybiBwYXRoO1xuXHRcdFx0fSk7XG5cdFx0Y2FzZSBcIkFubm90YXRpb25QYXRoXCI6XG5cdFx0XHRyZXR1cm4gY29sbGVjdGlvbkRlZmluaXRpb24ubWFwKChhbm5vdGF0aW9uUGF0aCwgYW5ub3RhdGlvbklkeCkgPT4ge1xuXHRcdFx0XHRjb25zdCBhbm5vdGF0aW9uVGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChvYmplY3RNYXAsIGN1cnJlbnRUYXJnZXQsIGFubm90YXRpb25QYXRoLkFubm90YXRpb25QYXRoLCB0cnVlKTtcblx0XHRcdFx0Y29uc3QgYW5ub3RhdGlvbkNvbGxlY3Rpb25FbGVtZW50ID0ge1xuXHRcdFx0XHRcdHR5cGU6IFwiQW5ub3RhdGlvblBhdGhcIixcblx0XHRcdFx0XHR2YWx1ZTogYW5ub3RhdGlvblBhdGguQW5ub3RhdGlvblBhdGgsXG5cdFx0XHRcdFx0ZnVsbHlRdWFsaWZpZWROYW1lOiBgJHtwYXJlbnRGUU59LyR7YW5ub3RhdGlvbklkeH1gLFxuXHRcdFx0XHRcdCR0YXJnZXQ6IGFubm90YXRpb25UYXJnZXRcblx0XHRcdFx0fTtcblx0XHRcdFx0dG9SZXNvbHZlLnB1c2goYW5ub3RhdGlvbkNvbGxlY3Rpb25FbGVtZW50KTtcblx0XHRcdFx0cmV0dXJuIGFubm90YXRpb25Db2xsZWN0aW9uRWxlbWVudDtcblx0XHRcdH0pO1xuXHRcdGNhc2UgXCJOYXZpZ2F0aW9uUHJvcGVydHlQYXRoXCI6XG5cdFx0XHRyZXR1cm4gY29sbGVjdGlvbkRlZmluaXRpb24ubWFwKChuYXZQcm9wZXJ0eVBhdGgsIG5hdlByb3BJZHgpID0+IHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHR0eXBlOiBcIk5hdmlnYXRpb25Qcm9wZXJ0eVBhdGhcIixcblx0XHRcdFx0XHR2YWx1ZTogbmF2UHJvcGVydHlQYXRoLk5hdmlnYXRpb25Qcm9wZXJ0eVBhdGgsXG5cdFx0XHRcdFx0ZnVsbHlRdWFsaWZpZWROYW1lOiBgJHtwYXJlbnRGUU59LyR7bmF2UHJvcElkeH1gLFxuXHRcdFx0XHRcdCR0YXJnZXQ6IHJlc29sdmVUYXJnZXQob2JqZWN0TWFwLCBjdXJyZW50VGFyZ2V0LCBuYXZQcm9wZXJ0eVBhdGguTmF2aWdhdGlvblByb3BlcnR5UGF0aClcblx0XHRcdFx0fTtcblx0XHRcdH0pO1xuXHRcdGNhc2UgXCJSZWNvcmRcIjpcblx0XHRcdHJldHVybiBjb2xsZWN0aW9uRGVmaW5pdGlvbi5tYXAoKHJlY29yZERlZmluaXRpb24sIHJlY29yZElkeCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gcGFyc2VSZWNvcmQoXG5cdFx0XHRcdFx0cmVjb3JkRGVmaW5pdGlvbixcblx0XHRcdFx0XHRgJHtwYXJlbnRGUU59LyR7cmVjb3JkSWR4fWAsXG5cdFx0XHRcdFx0cGFyc2VyT3V0cHV0LFxuXHRcdFx0XHRcdGN1cnJlbnRUYXJnZXQsXG5cdFx0XHRcdFx0b2JqZWN0TWFwLFxuXHRcdFx0XHRcdHRvUmVzb2x2ZSxcblx0XHRcdFx0XHRhbm5vdGF0aW9uU291cmNlLFxuXHRcdFx0XHRcdHVucmVzb2x2ZWRBbm5vdGF0aW9uc1xuXHRcdFx0XHQpO1xuXHRcdFx0fSk7XG5cdFx0Y2FzZSBcIlN0cmluZ1wiOlxuXHRcdFx0cmV0dXJuIGNvbGxlY3Rpb25EZWZpbml0aW9uLm1hcChzdHJpbmdWYWx1ZSA9PiB7XG5cdFx0XHRcdHJldHVybiBzdHJpbmdWYWx1ZTtcblx0XHRcdH0pO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRpZiAoY29sbGVjdGlvbkRlZmluaXRpb24ubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdHJldHVybiBbXTtcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGNhc2VcIik7XG5cdH1cbn1cblxudHlwZSBSZXNvbHZlYWJsZSA9IHtcblx0JHRhcmdldDogc3RyaW5nO1xuXHR0YXJnZXRTdHJpbmc/OiBzdHJpbmc7XG59O1xuXG5mdW5jdGlvbiBjb252ZXJ0QW5ub3RhdGlvbihcblx0YW5ub3RhdGlvbjogQW5ub3RhdGlvbixcblx0cGFyc2VyT3V0cHV0OiBQYXJzZXJPdXRwdXQsXG5cdGN1cnJlbnRUYXJnZXQ6IGFueSxcblx0b2JqZWN0TWFwOiBhbnksXG5cdHRvUmVzb2x2ZTogUmVzb2x2ZWFibGVbXSxcblx0YW5ub3RhdGlvblNvdXJjZTogc3RyaW5nLFxuXHR1bnJlc29sdmVkQW5ub3RhdGlvbnM6IEFubm90YXRpb25MaXN0W11cbik6IGFueSB7XG5cdGlmIChhbm5vdGF0aW9uLnJlY29yZCkge1xuXHRcdGNvbnN0IGFubm90YXRpb25UZXJtOiBhbnkgPSB7XG5cdFx0XHQkVHlwZTogdW5hbGlhcyhwYXJzZXJPdXRwdXQucmVmZXJlbmNlcywgYW5ub3RhdGlvbi5yZWNvcmQudHlwZSksXG5cdFx0XHRmdWxseVF1YWxpZmllZE5hbWU6IGFubm90YXRpb24uZnVsbHlRdWFsaWZpZWROYW1lLFxuXHRcdFx0cXVhbGlmaWVyOiBhbm5vdGF0aW9uLnF1YWxpZmllclxuXHRcdH07XG5cdFx0Y29uc3QgYW5ub3RhdGlvbkNvbnRlbnQ6IGFueSA9IHt9O1xuXHRcdGFubm90YXRpb24ucmVjb3JkLnByb3BlcnR5VmFsdWVzLmZvckVhY2goKHByb3BlcnR5VmFsdWU6IFByb3BlcnR5VmFsdWUpID0+IHtcblx0XHRcdGFubm90YXRpb25Db250ZW50W3Byb3BlcnR5VmFsdWUubmFtZV0gPSBwYXJzZVZhbHVlKFxuXHRcdFx0XHRwcm9wZXJ0eVZhbHVlLnZhbHVlLFxuXHRcdFx0XHRgJHthbm5vdGF0aW9uLmZ1bGx5UXVhbGlmaWVkTmFtZX0vJHtwcm9wZXJ0eVZhbHVlLm5hbWV9YCxcblx0XHRcdFx0cGFyc2VyT3V0cHV0LFxuXHRcdFx0XHRjdXJyZW50VGFyZ2V0LFxuXHRcdFx0XHRvYmplY3RNYXAsXG5cdFx0XHRcdHRvUmVzb2x2ZSxcblx0XHRcdFx0YW5ub3RhdGlvblNvdXJjZSxcblx0XHRcdFx0dW5yZXNvbHZlZEFubm90YXRpb25zXG5cdFx0XHQpO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRhbm5vdGF0aW9uQ29udGVudC5oYXNPd25Qcm9wZXJ0eShcIkFjdGlvblwiKSAmJlxuXHRcdFx0XHQoIWFubm90YXRpb24ucmVjb3JkIHx8XG5cdFx0XHRcdFx0YW5ub3RhdGlvblRlcm0uJFR5cGUgPT09IFwiY29tLnNhcC52b2NhYnVsYXJpZXMuVUkudjEuRGF0YUZpZWxkRm9yQWN0aW9uXCIgfHxcblx0XHRcdFx0XHRhbm5vdGF0aW9uVGVybS4kVHlwZSA9PT0gXCJjb20uc2FwLnZvY2FidWxhcmllcy5VSS52MS5EYXRhRmllbGRXaXRoQWN0aW9uXCIpXG5cdFx0XHQpIHtcblx0XHRcdFx0aWYgKGN1cnJlbnRUYXJnZXQuYWN0aW9ucykge1xuXHRcdFx0XHRcdGFubm90YXRpb25Db250ZW50LkFjdGlvblRhcmdldCA9XG5cdFx0XHRcdFx0XHRjdXJyZW50VGFyZ2V0LmFjdGlvbnNbYW5ub3RhdGlvbkNvbnRlbnQuQWN0aW9uXSB8fCBvYmplY3RNYXBbYW5ub3RhdGlvbkNvbnRlbnQuQWN0aW9uXTtcblx0XHRcdFx0XHRpZiAoIWFubm90YXRpb25Db250ZW50LkFjdGlvblRhcmdldCkge1xuXHRcdFx0XHRcdFx0QU5OT1RBVElPTl9FUlJPUlMucHVzaCh7XG5cdFx0XHRcdFx0XHRcdG1lc3NhZ2U6XG5cdFx0XHRcdFx0XHRcdFx0XCJVbmFibGUgdG8gcmVzb2x2ZSB0aGUgYWN0aW9uIFwiICtcblx0XHRcdFx0XHRcdFx0XHRhbm5vdGF0aW9uQ29udGVudC5BY3Rpb24gK1xuXHRcdFx0XHRcdFx0XHRcdFwiIGRlZmluZWQgZm9yIFwiICtcblx0XHRcdFx0XHRcdFx0XHRhbm5vdGF0aW9uLmZ1bGx5UXVhbGlmaWVkTmFtZVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHQvLyBBZGQgdG8gZGlhZ25vc3RpY3Ncblx0XHRcdFx0XHRcdC8vIGRlYnVnZ2VyO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHJldHVybiBPYmplY3QuYXNzaWduKGFubm90YXRpb25UZXJtLCBhbm5vdGF0aW9uQ29udGVudCk7XG5cdH0gZWxzZSBpZiAoYW5ub3RhdGlvbi5jb2xsZWN0aW9uID09PSB1bmRlZmluZWQpIHtcblx0XHRpZiAoYW5ub3RhdGlvbi52YWx1ZSkge1xuXHRcdFx0cmV0dXJuIHBhcnNlVmFsdWUoXG5cdFx0XHRcdGFubm90YXRpb24udmFsdWUsXG5cdFx0XHRcdGFubm90YXRpb24uZnVsbHlRdWFsaWZpZWROYW1lLFxuXHRcdFx0XHRwYXJzZXJPdXRwdXQsXG5cdFx0XHRcdGN1cnJlbnRUYXJnZXQsXG5cdFx0XHRcdG9iamVjdE1hcCxcblx0XHRcdFx0dG9SZXNvbHZlLFxuXHRcdFx0XHRhbm5vdGF0aW9uU291cmNlLFxuXHRcdFx0XHR1bnJlc29sdmVkQW5ub3RhdGlvbnNcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSBlbHNlIGlmIChhbm5vdGF0aW9uLmNvbGxlY3Rpb24pIHtcblx0XHRjb25zdCBjb2xsZWN0aW9uOiBhbnkgPSBwYXJzZUNvbGxlY3Rpb24oXG5cdFx0XHRhbm5vdGF0aW9uLmNvbGxlY3Rpb24sXG5cdFx0XHRhbm5vdGF0aW9uLmZ1bGx5UXVhbGlmaWVkTmFtZSxcblx0XHRcdHBhcnNlck91dHB1dCxcblx0XHRcdGN1cnJlbnRUYXJnZXQsXG5cdFx0XHRvYmplY3RNYXAsXG5cdFx0XHR0b1Jlc29sdmUsXG5cdFx0XHRhbm5vdGF0aW9uU291cmNlLFxuXHRcdFx0dW5yZXNvbHZlZEFubm90YXRpb25zXG5cdFx0KTtcblx0XHRjb2xsZWN0aW9uLmZ1bGx5UXVhbGlmaWVkTmFtZSA9IGFubm90YXRpb24uZnVsbHlRdWFsaWZpZWROYW1lO1xuXHRcdHJldHVybiBjb2xsZWN0aW9uO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGNhc2VcIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlUmVzb2x2ZVBhdGhGbihlbnRpdHlUeXBlOiBFbnRpdHlUeXBlLCBvYmplY3RNYXA6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uKHJlbGF0aXZlUGF0aDogc3RyaW5nLCBpbmNsdWRlVmlzaXRlZE9iamVjdHM6IGJvb2xlYW4pOiBhbnkge1xuXHRcdHJldHVybiByZXNvbHZlVGFyZ2V0KG9iamVjdE1hcCwgZW50aXR5VHlwZSwgcmVsYXRpdmVQYXRoLCBmYWxzZSwgaW5jbHVkZVZpc2l0ZWRPYmplY3RzKTtcblx0fTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZU5hdmlnYXRpb25Qcm9wZXJ0aWVzKFxuXHRlbnRpdHlUeXBlczogUGFyc2VyRW50aXR5VHlwZVtdLFxuXHRhc3NvY2lhdGlvbnM6IEFzc29jaWF0aW9uW10sXG5cdG9iamVjdE1hcDogUmVjb3JkPHN0cmluZywgYW55PlxuKTogdm9pZCB7XG5cdGVudGl0eVR5cGVzLmZvckVhY2goZW50aXR5VHlwZSA9PiB7XG5cdFx0ZW50aXR5VHlwZS5uYXZpZ2F0aW9uUHJvcGVydGllcyA9IGVudGl0eVR5cGUubmF2aWdhdGlvblByb3BlcnRpZXMubWFwKG5hdlByb3AgPT4ge1xuXHRcdFx0Y29uc3Qgb3V0TmF2UHJvcDogUGFydGlhbDxOYXZpZ2F0aW9uUHJvcGVydHk+ID0ge1xuXHRcdFx0XHRfdHlwZTogXCJOYXZpZ2F0aW9uUHJvcGVydHlcIixcblx0XHRcdFx0bmFtZTogbmF2UHJvcC5uYW1lLFxuXHRcdFx0XHRmdWxseVF1YWxpZmllZE5hbWU6IG5hdlByb3AuZnVsbHlRdWFsaWZpZWROYW1lLFxuXHRcdFx0XHRwYXJ0bmVyOiAobmF2UHJvcCBhcyBhbnkpLmhhc093blByb3BlcnR5KFwicGFydG5lclwiKSA/IChuYXZQcm9wIGFzIGFueSkucGFydG5lciA6IHVuZGVmaW5lZCxcblx0XHRcdFx0Ly8gdGFyZ2V0VHlwZU5hbWU6IEZ1bGx5UXVhbGlmaWVkTmFtZTtcblx0XHRcdFx0Ly8gdGFyZ2V0VHlwZTogRW50aXR5VHlwZTtcblx0XHRcdFx0aXNDb2xsZWN0aW9uOiAobmF2UHJvcCBhcyBhbnkpLmhhc093blByb3BlcnR5KFwiaXNDb2xsZWN0aW9uXCIpID8gKG5hdlByb3AgYXMgYW55KS5pc0NvbGxlY3Rpb24gOiBmYWxzZSxcblx0XHRcdFx0Y29udGFpbnNUYXJnZXQ6IChuYXZQcm9wIGFzIGFueSkuaGFzT3duUHJvcGVydHkoXCJjb250YWluc1RhcmdldFwiKVxuXHRcdFx0XHRcdD8gKG5hdlByb3AgYXMgYW55KS5jb250YWluc1RhcmdldFxuXHRcdFx0XHRcdDogZmFsc2UsXG5cdFx0XHRcdHJlZmVyZW50aWFsQ29uc3RyYWludDogKG5hdlByb3AgYXMgYW55KS5yZWZlcmVudGlhbENvbnN0cmFpbnRcblx0XHRcdFx0XHQ/IChuYXZQcm9wIGFzIGFueSkucmVmZXJlbnRpYWxDb25zdHJhaW50XG5cdFx0XHRcdFx0OiBbXVxuXHRcdFx0fTtcblx0XHRcdGlmICgobmF2UHJvcCBhcyBHZW5lcmljTmF2aWdhdGlvblByb3BlcnR5KS50YXJnZXRUeXBlTmFtZSkge1xuXHRcdFx0XHRvdXROYXZQcm9wLnRhcmdldFR5cGUgPSBvYmplY3RNYXBbKG5hdlByb3AgYXMgVjROYXZpZ2F0aW9uUHJvcGVydHkpLnRhcmdldFR5cGVOYW1lXTtcblx0XHRcdH0gZWxzZSBpZiAoKG5hdlByb3AgYXMgVjJOYXZpZ2F0aW9uUHJvcGVydHkpLnJlbGF0aW9uc2hpcCkge1xuXHRcdFx0XHRjb25zdCB0YXJnZXRBc3NvY2lhdGlvbiA9IGFzc29jaWF0aW9ucy5maW5kKFxuXHRcdFx0XHRcdGFzc29jaWF0aW9uID0+IGFzc29jaWF0aW9uLmZ1bGx5UXVhbGlmaWVkTmFtZSA9PT0gKG5hdlByb3AgYXMgVjJOYXZpZ2F0aW9uUHJvcGVydHkpLnJlbGF0aW9uc2hpcFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRpZiAodGFyZ2V0QXNzb2NpYXRpb24pIHtcblx0XHRcdFx0XHRjb25zdCBhc3NvY2lhdGlvbkVuZCA9IHRhcmdldEFzc29jaWF0aW9uLmFzc29jaWF0aW9uRW5kLmZpbmQoXG5cdFx0XHRcdFx0XHRlbmQgPT4gZW5kLnJvbGUgPT09IChuYXZQcm9wIGFzIFYyTmF2aWdhdGlvblByb3BlcnR5KS50b1JvbGVcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGlmIChhc3NvY2lhdGlvbkVuZCkge1xuXHRcdFx0XHRcdFx0b3V0TmF2UHJvcC50YXJnZXRUeXBlID0gb2JqZWN0TWFwW2Fzc29jaWF0aW9uRW5kLnR5cGVdO1xuXHRcdFx0XHRcdFx0b3V0TmF2UHJvcC5pc0NvbGxlY3Rpb24gPSBhc3NvY2lhdGlvbkVuZC5tdWx0aXBsaWNpdHkgPT09IFwiKlwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKG91dE5hdlByb3AudGFyZ2V0VHlwZSkge1xuXHRcdFx0XHRvdXROYXZQcm9wLnRhcmdldFR5cGVOYW1lID0gb3V0TmF2UHJvcC50YXJnZXRUeXBlLmZ1bGx5UXVhbGlmaWVkTmFtZTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IG91dE5hdlByb3BSZXEgPSBvdXROYXZQcm9wIGFzIE5hdmlnYXRpb25Qcm9wZXJ0eTtcblx0XHRcdG9iamVjdE1hcFtvdXROYXZQcm9wUmVxLmZ1bGx5UXVhbGlmaWVkTmFtZV0gPSBvdXROYXZQcm9wUmVxO1xuXHRcdFx0cmV0dXJuIG91dE5hdlByb3BSZXE7XG5cdFx0fSk7XG5cdFx0KGVudGl0eVR5cGUgYXMgRW50aXR5VHlwZSkucmVzb2x2ZVBhdGggPSBjcmVhdGVSZXNvbHZlUGF0aEZuKGVudGl0eVR5cGUgYXMgRW50aXR5VHlwZSwgb2JqZWN0TWFwKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGxpbmtBY3Rpb25zVG9FbnRpdHlUeXBlKG5hbWVzcGFjZTogc3RyaW5nLCBhY3Rpb25zOiBBY3Rpb25bXSwgb2JqZWN0TWFwOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogdm9pZCB7XG5cdGFjdGlvbnMuZm9yRWFjaChhY3Rpb24gPT4ge1xuXHRcdGlmIChhY3Rpb24uaXNCb3VuZCkge1xuXHRcdFx0Y29uc3Qgc291cmNlRW50aXR5VHlwZSA9IG9iamVjdE1hcFthY3Rpb24uc291cmNlVHlwZV07XG5cdFx0XHRhY3Rpb24uc291cmNlRW50aXR5VHlwZSA9IHNvdXJjZUVudGl0eVR5cGU7XG5cdFx0XHRpZiAoc291cmNlRW50aXR5VHlwZSkge1xuXHRcdFx0XHRpZiAoIXNvdXJjZUVudGl0eVR5cGUuYWN0aW9ucykge1xuXHRcdFx0XHRcdHNvdXJjZUVudGl0eVR5cGUuYWN0aW9ucyA9IHt9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNvdXJjZUVudGl0eVR5cGUuYWN0aW9uc1thY3Rpb24ubmFtZV0gPSBhY3Rpb247XG5cdFx0XHRcdHNvdXJjZUVudGl0eVR5cGUuYWN0aW9uc1tgJHtuYW1lc3BhY2V9LiR7YWN0aW9uLm5hbWV9YF0gPSBhY3Rpb247XG5cdFx0XHR9XG5cdFx0XHRhY3Rpb24ucmV0dXJuRW50aXR5VHlwZSA9IG9iamVjdE1hcFthY3Rpb24ucmV0dXJuVHlwZV07XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gbGlua0VudGl0eVR5cGVUb0VudGl0eVNldChlbnRpdHlTZXRzOiBFbnRpdHlTZXRbXSwgb2JqZWN0TWFwOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogdm9pZCB7XG5cdGVudGl0eVNldHMuZm9yRWFjaChlbnRpdHlTZXQgPT4ge1xuXHRcdGVudGl0eVNldC5lbnRpdHlUeXBlID0gb2JqZWN0TWFwW2VudGl0eVNldC5lbnRpdHlUeXBlTmFtZV07XG5cdFx0aWYgKCFlbnRpdHlTZXQuYW5ub3RhdGlvbnMpIHtcblx0XHRcdGVudGl0eVNldC5hbm5vdGF0aW9ucyA9IHt9O1xuXHRcdH1cblx0XHRpZiAoIWVudGl0eVNldC5lbnRpdHlUeXBlLmFubm90YXRpb25zKSB7XG5cdFx0XHRlbnRpdHlTZXQuZW50aXR5VHlwZS5hbm5vdGF0aW9ucyA9IHt9O1xuXHRcdH1cblx0XHRlbnRpdHlTZXQuZW50aXR5VHlwZS5rZXlzLmZvckVhY2goKGtleVByb3A6IFByb3BlcnR5KSA9PiB7XG5cdFx0XHRrZXlQcm9wLmlzS2V5ID0gdHJ1ZTtcblx0XHR9KTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGxpbmtQcm9wZXJ0aWVzVG9Db21wbGV4VHlwZXMoZW50aXR5VHlwZXM6IEVudGl0eVR5cGVbXSwgb2JqZWN0TWFwOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG5cdGVudGl0eVR5cGVzLmZvckVhY2goZW50aXR5VHlwZSA9PiB7XG5cdFx0ZW50aXR5VHlwZS5lbnRpdHlQcm9wZXJ0aWVzLmZvckVhY2goZW50aXR5UHJvcGVydHkgPT4ge1xuXHRcdFx0aWYgKGVudGl0eVByb3BlcnR5LnR5cGUuaW5kZXhPZihcIkVkbVwiKSA9PT0gLTEpIHtcblx0XHRcdFx0Y29uc3QgY29tcGxleFR5cGUgPSBvYmplY3RNYXBbZW50aXR5UHJvcGVydHkudHlwZV0gYXMgQ29tcGxleFR5cGU7XG5cdFx0XHRcdGlmIChjb21wbGV4VHlwZSkge1xuXHRcdFx0XHRcdChlbnRpdHlQcm9wZXJ0eSBhcyBQcm9wZXJ0eSkudGFyZ2V0VHlwZSA9IGNvbXBsZXhUeXBlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBwcmVwYXJlQ29tcGxleFR5cGVzKFxuXHRjb21wbGV4VHlwZXM6IFBhcnNlckNvbXBsZXhUeXBlW10sXG5cdGFzc29jaWF0aW9uczogQXNzb2NpYXRpb25bXSxcblx0b2JqZWN0TWFwOiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4pIHtcblx0Y29tcGxleFR5cGVzLmZvckVhY2goY29tcGxleFR5cGUgPT4ge1xuXHRcdChjb21wbGV4VHlwZSBhcyBDb21wbGV4VHlwZSkuYW5ub3RhdGlvbnMgPSB7fTtcblx0XHRjb21wbGV4VHlwZS5wcm9wZXJ0aWVzLmZvckVhY2gocHJvcGVydHkgPT4ge1xuXHRcdFx0aWYgKCEocHJvcGVydHkgYXMgUHJvcGVydHkpLmFubm90YXRpb25zKSB7XG5cdFx0XHRcdChwcm9wZXJ0eSBhcyBQcm9wZXJ0eSkuYW5ub3RhdGlvbnMgPSB7fTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRjb21wbGV4VHlwZS5uYXZpZ2F0aW9uUHJvcGVydGllcyA9IGNvbXBsZXhUeXBlLm5hdmlnYXRpb25Qcm9wZXJ0aWVzLm1hcChuYXZQcm9wID0+IHtcblx0XHRcdGlmICghKG5hdlByb3AgYXMgTmF2aWdhdGlvblByb3BlcnR5KS5hbm5vdGF0aW9ucykge1xuXHRcdFx0XHQobmF2UHJvcCBhcyBOYXZpZ2F0aW9uUHJvcGVydHkpLmFubm90YXRpb25zID0ge307XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBvdXROYXZQcm9wOiBQYXJ0aWFsPE5hdmlnYXRpb25Qcm9wZXJ0eT4gPSB7XG5cdFx0XHRcdF90eXBlOiBcIk5hdmlnYXRpb25Qcm9wZXJ0eVwiLFxuXHRcdFx0XHRuYW1lOiBuYXZQcm9wLm5hbWUsXG5cdFx0XHRcdGZ1bGx5UXVhbGlmaWVkTmFtZTogbmF2UHJvcC5mdWxseVF1YWxpZmllZE5hbWUsXG5cdFx0XHRcdHBhcnRuZXI6IChuYXZQcm9wIGFzIGFueSkuaGFzT3duUHJvcGVydHkoXCJwYXJ0bmVyXCIpID8gKG5hdlByb3AgYXMgYW55KS5wYXJ0bmVyIDogdW5kZWZpbmVkLFxuXHRcdFx0XHQvLyB0YXJnZXRUeXBlTmFtZTogRnVsbHlRdWFsaWZpZWROYW1lO1xuXHRcdFx0XHQvLyB0YXJnZXRUeXBlOiBFbnRpdHlUeXBlO1xuXHRcdFx0XHRpc0NvbGxlY3Rpb246IChuYXZQcm9wIGFzIGFueSkuaGFzT3duUHJvcGVydHkoXCJpc0NvbGxlY3Rpb25cIikgPyAobmF2UHJvcCBhcyBhbnkpLmlzQ29sbGVjdGlvbiA6IGZhbHNlLFxuXHRcdFx0XHRjb250YWluc1RhcmdldDogKG5hdlByb3AgYXMgYW55KS5oYXNPd25Qcm9wZXJ0eShcImNvbnRhaW5zVGFyZ2V0XCIpXG5cdFx0XHRcdFx0PyAobmF2UHJvcCBhcyBhbnkpLmNvbnRhaW5zVGFyZ2V0XG5cdFx0XHRcdFx0OiBmYWxzZSxcblx0XHRcdFx0cmVmZXJlbnRpYWxDb25zdHJhaW50OiAobmF2UHJvcCBhcyBhbnkpLnJlZmVyZW50aWFsQ29uc3RyYWludFxuXHRcdFx0XHRcdD8gKG5hdlByb3AgYXMgYW55KS5yZWZlcmVudGlhbENvbnN0cmFpbnRcblx0XHRcdFx0XHQ6IFtdXG5cdFx0XHR9O1xuXHRcdFx0aWYgKChuYXZQcm9wIGFzIEdlbmVyaWNOYXZpZ2F0aW9uUHJvcGVydHkpLnRhcmdldFR5cGVOYW1lKSB7XG5cdFx0XHRcdG91dE5hdlByb3AudGFyZ2V0VHlwZSA9IG9iamVjdE1hcFsobmF2UHJvcCBhcyBWNE5hdmlnYXRpb25Qcm9wZXJ0eSkudGFyZ2V0VHlwZU5hbWVdO1xuXHRcdFx0fSBlbHNlIGlmICgobmF2UHJvcCBhcyBWMk5hdmlnYXRpb25Qcm9wZXJ0eSkucmVsYXRpb25zaGlwKSB7XG5cdFx0XHRcdGNvbnN0IHRhcmdldEFzc29jaWF0aW9uID0gYXNzb2NpYXRpb25zLmZpbmQoXG5cdFx0XHRcdFx0YXNzb2NpYXRpb24gPT4gYXNzb2NpYXRpb24uZnVsbHlRdWFsaWZpZWROYW1lID09PSAobmF2UHJvcCBhcyBWMk5hdmlnYXRpb25Qcm9wZXJ0eSkucmVsYXRpb25zaGlwXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGlmICh0YXJnZXRBc3NvY2lhdGlvbikge1xuXHRcdFx0XHRcdGNvbnN0IGFzc29jaWF0aW9uRW5kID0gdGFyZ2V0QXNzb2NpYXRpb24uYXNzb2NpYXRpb25FbmQuZmluZChcblx0XHRcdFx0XHRcdGVuZCA9PiBlbmQucm9sZSA9PT0gKG5hdlByb3AgYXMgVjJOYXZpZ2F0aW9uUHJvcGVydHkpLnRvUm9sZVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0aWYgKGFzc29jaWF0aW9uRW5kKSB7XG5cdFx0XHRcdFx0XHRvdXROYXZQcm9wLnRhcmdldFR5cGUgPSBvYmplY3RNYXBbYXNzb2NpYXRpb25FbmQudHlwZV07XG5cdFx0XHRcdFx0XHRvdXROYXZQcm9wLmlzQ29sbGVjdGlvbiA9IGFzc29jaWF0aW9uRW5kLm11bHRpcGxpY2l0eSA9PT0gXCIqXCI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAob3V0TmF2UHJvcC50YXJnZXRUeXBlKSB7XG5cdFx0XHRcdG91dE5hdlByb3AudGFyZ2V0VHlwZU5hbWUgPSBvdXROYXZQcm9wLnRhcmdldFR5cGUuZnVsbHlRdWFsaWZpZWROYW1lO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3Qgb3V0TmF2UHJvcFJlcSA9IG91dE5hdlByb3AgYXMgTmF2aWdhdGlvblByb3BlcnR5O1xuXHRcdFx0b2JqZWN0TWFwW291dE5hdlByb3BSZXEuZnVsbHlRdWFsaWZpZWROYW1lXSA9IG91dE5hdlByb3BSZXE7XG5cdFx0XHRyZXR1cm4gb3V0TmF2UHJvcFJlcTtcblx0XHR9KTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIHNwbGl0VGVybShyZWZlcmVuY2VzOiBSZWZlcmVuY2VzV2l0aE1hcCwgdGVybVZhbHVlOiBzdHJpbmcpIHtcblx0Y29uc3QgYWxpYXNlZFRlcm0gPSBhbGlhcyhyZWZlcmVuY2VzLCB0ZXJtVmFsdWUpO1xuXHRjb25zdCBsYXN0RG90ID0gYWxpYXNlZFRlcm0ubGFzdEluZGV4T2YoXCIuXCIpO1xuXHRsZXQgdGVybUFsaWFzID0gYWxpYXNlZFRlcm0uc3Vic3RyKDAsIGxhc3REb3QpO1xuXHRsZXQgdGVybSA9IGFsaWFzZWRUZXJtLnN1YnN0cihsYXN0RG90ICsgMSk7XG5cdHJldHVybiBbdGVybUFsaWFzLCB0ZXJtXTtcbn1cblxubGV0IEFOTk9UQVRJT05fRVJST1JTOiB7IG1lc3NhZ2U6IHN0cmluZyB9W10gPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VHlwZXMocGFyc2VyT3V0cHV0OiBQYXJzZXJPdXRwdXQpOiBDb252ZXJ0ZXJPdXRwdXQge1xuXHRBTk5PVEFUSU9OX0VSUk9SUyA9IFtdO1xuXHRjb25zdCBvYmplY3RNYXAgPSBidWlsZE9iamVjdE1hcChwYXJzZXJPdXRwdXQpO1xuXHRyZXNvbHZlTmF2aWdhdGlvblByb3BlcnRpZXMoXG5cdFx0cGFyc2VyT3V0cHV0LnNjaGVtYS5lbnRpdHlUeXBlcyBhcyBFbnRpdHlUeXBlW10sXG5cdFx0cGFyc2VyT3V0cHV0LnNjaGVtYS5hc3NvY2lhdGlvbnMsXG5cdFx0b2JqZWN0TWFwXG5cdCk7XG5cdGxpbmtBY3Rpb25zVG9FbnRpdHlUeXBlKHBhcnNlck91dHB1dC5zY2hlbWEubmFtZXNwYWNlLCBwYXJzZXJPdXRwdXQuc2NoZW1hLmFjdGlvbnMgYXMgQWN0aW9uW10sIG9iamVjdE1hcCk7XG5cdGxpbmtFbnRpdHlUeXBlVG9FbnRpdHlTZXQocGFyc2VyT3V0cHV0LnNjaGVtYS5lbnRpdHlTZXRzIGFzIEVudGl0eVNldFtdLCBvYmplY3RNYXApO1xuXHRsaW5rUHJvcGVydGllc1RvQ29tcGxleFR5cGVzKHBhcnNlck91dHB1dC5zY2hlbWEuZW50aXR5VHlwZXMgYXMgRW50aXR5VHlwZVtdLCBvYmplY3RNYXApO1xuXHRwcmVwYXJlQ29tcGxleFR5cGVzKHBhcnNlck91dHB1dC5zY2hlbWEuY29tcGxleFR5cGVzIGFzIENvbXBsZXhUeXBlW10sIHBhcnNlck91dHB1dC5zY2hlbWEuYXNzb2NpYXRpb25zLCBvYmplY3RNYXApO1xuXHRjb25zdCB0b1Jlc29sdmU6IFJlc29sdmVhYmxlW10gPSBbXTtcblx0Y29uc3QgdW5yZXNvbHZlZEFubm90YXRpb25zOiBBbm5vdGF0aW9uTGlzdFtdID0gW107XG5cdE9iamVjdC5rZXlzKHBhcnNlck91dHB1dC5zY2hlbWEuYW5ub3RhdGlvbnMpLmZvckVhY2goYW5ub3RhdGlvblNvdXJjZSA9PiB7XG5cdFx0cGFyc2VyT3V0cHV0LnNjaGVtYS5hbm5vdGF0aW9uc1thbm5vdGF0aW9uU291cmNlXS5mb3JFYWNoKGFubm90YXRpb25MaXN0ID0+IHtcblx0XHRcdGNvbnN0IGN1cnJlbnRUYXJnZXROYW1lID0gdW5hbGlhcyhwYXJzZXJPdXRwdXQucmVmZXJlbmNlcywgYW5ub3RhdGlvbkxpc3QudGFyZ2V0KSBhcyBzdHJpbmc7XG5cdFx0XHRjb25zdCBjdXJyZW50VGFyZ2V0ID0gb2JqZWN0TWFwW2N1cnJlbnRUYXJnZXROYW1lXTtcblx0XHRcdGlmICghY3VycmVudFRhcmdldCkge1xuXHRcdFx0XHRpZiAoY3VycmVudFRhcmdldE5hbWUuaW5kZXhPZihcIkBcIikgIT09IC0xKSB7XG5cdFx0XHRcdFx0KGFubm90YXRpb25MaXN0IGFzIGFueSkuX19zb3VyY2UgPSBhbm5vdGF0aW9uU291cmNlO1xuXHRcdFx0XHRcdHVucmVzb2x2ZWRBbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb25MaXN0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgY3VycmVudFRhcmdldCA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0XHRpZiAoIWN1cnJlbnRUYXJnZXQuYW5ub3RhdGlvbnMpIHtcblx0XHRcdFx0XHRjdXJyZW50VGFyZ2V0LmFubm90YXRpb25zID0ge307XG5cdFx0XHRcdH1cblx0XHRcdFx0YW5ub3RhdGlvbkxpc3QuYW5ub3RhdGlvbnMuZm9yRWFjaChhbm5vdGF0aW9uID0+IHtcblx0XHRcdFx0XHRjb25zdCBbdm9jQWxpYXMsIHZvY1Rlcm1dID0gc3BsaXRUZXJtKGRlZmF1bHRSZWZlcmVuY2VzLCBhbm5vdGF0aW9uLnRlcm0pO1xuXHRcdFx0XHRcdGlmICghY3VycmVudFRhcmdldC5hbm5vdGF0aW9uc1t2b2NBbGlhc10pIHtcblx0XHRcdFx0XHRcdGN1cnJlbnRUYXJnZXQuYW5ub3RhdGlvbnNbdm9jQWxpYXNdID0ge307XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICghY3VycmVudFRhcmdldC5hbm5vdGF0aW9ucy5fYW5ub3RhdGlvbnMpIHtcblx0XHRcdFx0XHRcdGN1cnJlbnRUYXJnZXQuYW5ub3RhdGlvbnMuX2Fubm90YXRpb25zID0ge307XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3Qgdm9jVGVybVdpdGhRdWFsaWZpZXIgPSBgJHt2b2NUZXJtfSR7YW5ub3RhdGlvbi5xdWFsaWZpZXIgPyBgIyR7YW5ub3RhdGlvbi5xdWFsaWZpZXJ9YCA6IFwiXCJ9YDtcblx0XHRcdFx0XHRjdXJyZW50VGFyZ2V0LmFubm90YXRpb25zW3ZvY0FsaWFzXVt2b2NUZXJtV2l0aFF1YWxpZmllcl0gPSBjb252ZXJ0QW5ub3RhdGlvbihcblx0XHRcdFx0XHRcdGFubm90YXRpb24gYXMgQW5ub3RhdGlvbixcblx0XHRcdFx0XHRcdHBhcnNlck91dHB1dCxcblx0XHRcdFx0XHRcdGN1cnJlbnRUYXJnZXQsXG5cdFx0XHRcdFx0XHRvYmplY3RNYXAsXG5cdFx0XHRcdFx0XHR0b1Jlc29sdmUsXG5cdFx0XHRcdFx0XHRhbm5vdGF0aW9uU291cmNlLFxuXHRcdFx0XHRcdFx0dW5yZXNvbHZlZEFubm90YXRpb25zXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRjdXJyZW50VGFyZ2V0LmFubm90YXRpb25zW3ZvY0FsaWFzXVt2b2NUZXJtV2l0aFF1YWxpZmllcl0gIT09IG51bGwgJiZcblx0XHRcdFx0XHRcdHR5cGVvZiBjdXJyZW50VGFyZ2V0LmFubm90YXRpb25zW3ZvY0FsaWFzXVt2b2NUZXJtV2l0aFF1YWxpZmllcl0gPT09IFwib2JqZWN0XCJcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdGN1cnJlbnRUYXJnZXQuYW5ub3RhdGlvbnNbdm9jQWxpYXNdW3ZvY1Rlcm1XaXRoUXVhbGlmaWVyXS50ZXJtID0gdW5hbGlhcyhcblx0XHRcdFx0XHRcdFx0ZGVmYXVsdFJlZmVyZW5jZXMsXG5cdFx0XHRcdFx0XHRcdGAke3ZvY0FsaWFzfS4ke3ZvY1Rlcm19YFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdGN1cnJlbnRUYXJnZXQuYW5ub3RhdGlvbnNbdm9jQWxpYXNdW3ZvY1Rlcm1XaXRoUXVhbGlmaWVyXS5xdWFsaWZpZXIgPSBhbm5vdGF0aW9uLnF1YWxpZmllcjtcblx0XHRcdFx0XHRcdGN1cnJlbnRUYXJnZXQuYW5ub3RhdGlvbnNbdm9jQWxpYXNdW3ZvY1Rlcm1XaXRoUXVhbGlmaWVyXS5fX3NvdXJjZSA9IGFubm90YXRpb25Tb3VyY2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnN0IGFubm90YXRpb25UYXJnZXQgPSBgJHtjdXJyZW50VGFyZ2V0TmFtZX1AJHt1bmFsaWFzKFxuXHRcdFx0XHRcdFx0ZGVmYXVsdFJlZmVyZW5jZXMsXG5cdFx0XHRcdFx0XHR2b2NBbGlhcyArIFwiLlwiICsgdm9jVGVybVdpdGhRdWFsaWZpZXJcblx0XHRcdFx0XHQpfWA7XG5cdFx0XHRcdFx0aWYgKGFubm90YXRpb24uYW5ub3RhdGlvbnMgJiYgQXJyYXkuaXNBcnJheShhbm5vdGF0aW9uLmFubm90YXRpb25zKSkge1xuXHRcdFx0XHRcdFx0Y29uc3Qgc3ViQW5ub3RhdGlvbkxpc3QgPSB7XG5cdFx0XHRcdFx0XHRcdHRhcmdldDogYW5ub3RhdGlvblRhcmdldCxcblx0XHRcdFx0XHRcdFx0YW5ub3RhdGlvbnM6IGFubm90YXRpb24uYW5ub3RhdGlvbnMsXG5cdFx0XHRcdFx0XHRcdF9fc291cmNlOiBhbm5vdGF0aW9uU291cmNlXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0dW5yZXNvbHZlZEFubm90YXRpb25zLnB1c2goc3ViQW5ub3RhdGlvbkxpc3QpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjdXJyZW50VGFyZ2V0LmFubm90YXRpb25zLl9hbm5vdGF0aW9uc1tgJHt2b2NBbGlhc30uJHt2b2NUZXJtV2l0aFF1YWxpZmllcn1gXSA9XG5cdFx0XHRcdFx0XHRjdXJyZW50VGFyZ2V0LmFubm90YXRpb25zW3ZvY0FsaWFzXVt2b2NUZXJtV2l0aFF1YWxpZmllcl07XG5cdFx0XHRcdFx0b2JqZWN0TWFwW2Fubm90YXRpb25UYXJnZXRdID0gY3VycmVudFRhcmdldC5hbm5vdGF0aW9uc1t2b2NBbGlhc11bdm9jVGVybVdpdGhRdWFsaWZpZXJdO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cdGNvbnN0IGV4dHJhVW5yZXNvbHZlZEFubm90YXRpb25zOiBBbm5vdGF0aW9uTGlzdFtdID0gW107XG5cdHVucmVzb2x2ZWRBbm5vdGF0aW9ucy5mb3JFYWNoKGFubm90YXRpb25MaXN0ID0+IHtcblx0XHRjb25zdCBjdXJyZW50VGFyZ2V0TmFtZSA9IHVuYWxpYXMocGFyc2VyT3V0cHV0LnJlZmVyZW5jZXMsIGFubm90YXRpb25MaXN0LnRhcmdldCkgYXMgc3RyaW5nO1xuXHRcdGxldCBbYmFzZU9iaiwgYW5ub3RhdGlvblBhcnRdID0gY3VycmVudFRhcmdldE5hbWUuc3BsaXQoXCJAXCIpO1xuXHRcdGNvbnN0IHRhcmdldFNwbGl0ID0gYW5ub3RhdGlvblBhcnQuc3BsaXQoXCIvXCIpO1xuXHRcdGJhc2VPYmogPSBiYXNlT2JqICsgXCJAXCIgKyB0YXJnZXRTcGxpdFswXTtcblx0XHRjb25zdCBjdXJyZW50VGFyZ2V0ID0gdGFyZ2V0U3BsaXQuc2xpY2UoMSkucmVkdWNlKChjdXJyZW50T2JqLCBwYXRoKSA9PiB7XG5cdFx0XHRpZiAoIWN1cnJlbnRPYmopIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gY3VycmVudE9ialtwYXRoXTtcblx0XHR9LCBvYmplY3RNYXBbYmFzZU9ial0pO1xuXHRcdGlmICghY3VycmVudFRhcmdldCkge1xuXHRcdFx0QU5OT1RBVElPTl9FUlJPUlMucHVzaCh7XG5cdFx0XHRcdG1lc3NhZ2U6IFwiVGhlIGZvbGxvd2luZyBhbm5vdGF0aW9uIHRhcmdldCB3YXMgbm90IGZvdW5kIG9uIHRoZSBzZXJ2aWNlIFwiICsgY3VycmVudFRhcmdldE5hbWVcblx0XHRcdH0pO1xuXHRcdFx0Ly8gY29uc29sZS5sb2coXCJNaXNzaW5nIHRhcmdldCBhZ2FpbiBcIiArIGN1cnJlbnRUYXJnZXROYW1lKTtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBjdXJyZW50VGFyZ2V0ID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRpZiAoIWN1cnJlbnRUYXJnZXQuYW5ub3RhdGlvbnMpIHtcblx0XHRcdFx0Y3VycmVudFRhcmdldC5hbm5vdGF0aW9ucyA9IHt9O1xuXHRcdFx0fVxuXHRcdFx0YW5ub3RhdGlvbkxpc3QuYW5ub3RhdGlvbnMuZm9yRWFjaChhbm5vdGF0aW9uID0+IHtcblx0XHRcdFx0Y29uc3QgW3ZvY0FsaWFzLCB2b2NUZXJtXSA9IHNwbGl0VGVybShkZWZhdWx0UmVmZXJlbmNlcywgYW5ub3RhdGlvbi50ZXJtKTtcblx0XHRcdFx0aWYgKCFjdXJyZW50VGFyZ2V0LmFubm90YXRpb25zW3ZvY0FsaWFzXSkge1xuXHRcdFx0XHRcdGN1cnJlbnRUYXJnZXQuYW5ub3RhdGlvbnNbdm9jQWxpYXNdID0ge307XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFjdXJyZW50VGFyZ2V0LmFubm90YXRpb25zLl9hbm5vdGF0aW9ucykge1xuXHRcdFx0XHRcdGN1cnJlbnRUYXJnZXQuYW5ub3RhdGlvbnMuX2Fubm90YXRpb25zID0ge307XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCB2b2NUZXJtV2l0aFF1YWxpZmllciA9IGAke3ZvY1Rlcm19JHthbm5vdGF0aW9uLnF1YWxpZmllciA/IGAjJHthbm5vdGF0aW9uLnF1YWxpZmllcn1gIDogXCJcIn1gO1xuXHRcdFx0XHRjdXJyZW50VGFyZ2V0LmFubm90YXRpb25zW3ZvY0FsaWFzXVt2b2NUZXJtV2l0aFF1YWxpZmllcl0gPSBjb252ZXJ0QW5ub3RhdGlvbihcblx0XHRcdFx0XHRhbm5vdGF0aW9uIGFzIEFubm90YXRpb24sXG5cdFx0XHRcdFx0cGFyc2VyT3V0cHV0LFxuXHRcdFx0XHRcdGN1cnJlbnRUYXJnZXQsXG5cdFx0XHRcdFx0b2JqZWN0TWFwLFxuXHRcdFx0XHRcdHRvUmVzb2x2ZSxcblx0XHRcdFx0XHQoYW5ub3RhdGlvbkxpc3QgYXMgYW55KS5fX3NvdXJjZSxcblx0XHRcdFx0XHRleHRyYVVucmVzb2x2ZWRBbm5vdGF0aW9uc1xuXHRcdFx0XHQpO1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0Y3VycmVudFRhcmdldC5hbm5vdGF0aW9uc1t2b2NBbGlhc11bdm9jVGVybVdpdGhRdWFsaWZpZXJdICE9PSBudWxsICYmXG5cdFx0XHRcdFx0dHlwZW9mIGN1cnJlbnRUYXJnZXQuYW5ub3RhdGlvbnNbdm9jQWxpYXNdW3ZvY1Rlcm1XaXRoUXVhbGlmaWVyXSA9PT0gXCJvYmplY3RcIlxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjdXJyZW50VGFyZ2V0LmFubm90YXRpb25zW3ZvY0FsaWFzXVt2b2NUZXJtV2l0aFF1YWxpZmllcl0udGVybSA9IHVuYWxpYXMoXG5cdFx0XHRcdFx0XHRkZWZhdWx0UmVmZXJlbmNlcyxcblx0XHRcdFx0XHRcdGAke3ZvY0FsaWFzfS4ke3ZvY1Rlcm19YFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0Y3VycmVudFRhcmdldC5hbm5vdGF0aW9uc1t2b2NBbGlhc11bdm9jVGVybVdpdGhRdWFsaWZpZXJdLnF1YWxpZmllciA9IGFubm90YXRpb24ucXVhbGlmaWVyO1xuXHRcdFx0XHRcdGN1cnJlbnRUYXJnZXQuYW5ub3RhdGlvbnNbdm9jQWxpYXNdW1xuXHRcdFx0XHRcdFx0dm9jVGVybVdpdGhRdWFsaWZpZXJcblx0XHRcdFx0XHRdLl9fc291cmNlID0gKGFubm90YXRpb25MaXN0IGFzIGFueSkuX19zb3VyY2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y3VycmVudFRhcmdldC5hbm5vdGF0aW9ucy5fYW5ub3RhdGlvbnNbYCR7dm9jQWxpYXN9LiR7dm9jVGVybVdpdGhRdWFsaWZpZXJ9YF0gPVxuXHRcdFx0XHRcdGN1cnJlbnRUYXJnZXQuYW5ub3RhdGlvbnNbdm9jQWxpYXNdW3ZvY1Rlcm1XaXRoUXVhbGlmaWVyXTtcblx0XHRcdFx0b2JqZWN0TWFwW2Ake2N1cnJlbnRUYXJnZXROYW1lfUAke3VuYWxpYXMoZGVmYXVsdFJlZmVyZW5jZXMsIHZvY0FsaWFzICsgXCIuXCIgKyB2b2NUZXJtV2l0aFF1YWxpZmllcil9YF0gPVxuXHRcdFx0XHRcdGN1cnJlbnRUYXJnZXQuYW5ub3RhdGlvbnNbdm9jQWxpYXNdW3ZvY1Rlcm1XaXRoUXVhbGlmaWVyXTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG5cdHRvUmVzb2x2ZS5mb3JFYWNoKHJlc29sdmVhYmxlID0+IHtcblx0XHRjb25zdCB0YXJnZXRTdHIgPSByZXNvbHZlYWJsZS4kdGFyZ2V0O1xuXHRcdHJlc29sdmVhYmxlLiR0YXJnZXQgPSBvYmplY3RNYXBbdGFyZ2V0U3RyXTtcblx0XHRpZiAoIXJlc29sdmVhYmxlLiR0YXJnZXQpIHtcblx0XHRcdHJlc29sdmVhYmxlLnRhcmdldFN0cmluZyA9IHRhcmdldFN0cjtcblx0XHRcdEFOTk9UQVRJT05fRVJST1JTLnB1c2goeyBtZXNzYWdlOiBcIlVuYWJsZSB0byByZXNvbHZlIHRoZSBwYXRoIGV4cHJlc3Npb24gXCIgKyB0YXJnZXRTdHIgfSk7XG5cdFx0fVxuXHR9KTtcblx0KHBhcnNlck91dHB1dCBhcyBhbnkpLmVudGl0eVNldHMgPSBwYXJzZXJPdXRwdXQuc2NoZW1hLmVudGl0eVNldHM7XG5cblx0cmV0dXJuIHtcblx0XHR2ZXJzaW9uOiBwYXJzZXJPdXRwdXQudmVyc2lvbixcblx0XHRhbm5vdGF0aW9uczogcGFyc2VyT3V0cHV0LnNjaGVtYS5hbm5vdGF0aW9ucyxcblx0XHRuYW1lc3BhY2U6IHBhcnNlck91dHB1dC5zY2hlbWEubmFtZXNwYWNlLFxuXHRcdGFjdGlvbnM6IHBhcnNlck91dHB1dC5zY2hlbWEuYWN0aW9ucyBhcyBBY3Rpb25bXSxcblx0XHRlbnRpdHlTZXRzOiBwYXJzZXJPdXRwdXQuc2NoZW1hLmVudGl0eVNldHMgYXMgRW50aXR5U2V0W10sXG5cdFx0ZW50aXR5VHlwZXM6IHBhcnNlck91dHB1dC5zY2hlbWEuZW50aXR5VHlwZXMgYXMgRW50aXR5VHlwZVtdLFxuXHRcdGNvbXBsZXhUeXBlczogcGFyc2VyT3V0cHV0LnNjaGVtYS5jb21wbGV4VHlwZXMgYXMgQ29tcGxleFR5cGVbXSxcblx0XHRyZWZlcmVuY2VzOiBkZWZhdWx0UmVmZXJlbmNlcyxcblx0XHRkaWFnbm9zdGljczogQU5OT1RBVElPTl9FUlJPUlMuY29uY2F0KClcblx0fTtcbn1cblxuZnVuY3Rpb24gcmV2ZXJ0VmFsdWVUb0dlbmVyaWNUeXBlKHJlZmVyZW5jZXM6IFJlZmVyZW5jZVtdLCB2YWx1ZTogYW55KTogRXhwcmVzc2lvbiB8IHVuZGVmaW5lZCB7XG5cdGxldCByZXN1bHQ6IEV4cHJlc3Npb24gfCB1bmRlZmluZWQ7XG5cdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRjb25zdCB2YWx1ZU1hdGNoZXMgPSB2YWx1ZS5tYXRjaCgvKFxcdyspXFwuXFx3K1xcLy4qLyk7XG5cdFx0aWYgKHZhbHVlTWF0Y2hlcyAmJiByZWZlcmVuY2VzLmZpbmQocmVmID0+IHJlZi5hbGlhcyA9PT0gdmFsdWVNYXRjaGVzWzFdKSkge1xuXHRcdFx0cmVzdWx0ID0ge1xuXHRcdFx0XHR0eXBlOiBcIkVudW1NZW1iZXJcIixcblx0XHRcdFx0RW51bU1lbWJlcjogdmFsdWVcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9IHtcblx0XHRcdFx0dHlwZTogXCJTdHJpbmdcIixcblx0XHRcdFx0U3RyaW5nOiB2YWx1ZVxuXHRcdFx0fTtcblx0XHR9XG5cdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRyZXN1bHQgPSB7XG5cdFx0XHR0eXBlOiBcIkNvbGxlY3Rpb25cIixcblx0XHRcdENvbGxlY3Rpb246IHZhbHVlLm1hcChhbm5vID0+IHJldmVydENvbGxlY3Rpb25JdGVtVG9HZW5lcmljVHlwZShyZWZlcmVuY2VzLCBhbm5vKSkgYXMgYW55W11cblx0XHR9O1xuXHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcblx0XHRyZXN1bHQgPSB7XG5cdFx0XHR0eXBlOiBcIkJvb2xcIixcblx0XHRcdEJvb2w6IHZhbHVlXG5cdFx0fTtcblx0fSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcblx0XHRpZiAodmFsdWUudG9TdHJpbmcoKSA9PT0gdmFsdWUudG9GaXhlZCgpKSB7XG5cdFx0XHRyZXN1bHQgPSB7XG5cdFx0XHRcdHR5cGU6IFwiSW50XCIsXG5cdFx0XHRcdEludDogdmFsdWVcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9IHtcblx0XHRcdFx0dHlwZTogXCJEZWNpbWFsXCIsXG5cdFx0XHRcdERlY2ltYWw6IHZhbHVlXG5cdFx0XHR9O1xuXHRcdH1cblx0fSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUuaXNEZWNpbWFsICYmIHZhbHVlLmlzRGVjaW1hbCgpKSB7XG5cdFx0cmVzdWx0ID0ge1xuXHRcdFx0dHlwZTogXCJEZWNpbWFsXCIsXG5cdFx0XHREZWNpbWFsOiB2YWx1ZS52YWx1ZU9mKClcblx0XHR9O1xuXHR9IGVsc2UgaWYgKHZhbHVlLnR5cGUgPT09IFwiUGF0aFwiKSB7XG5cdFx0cmVzdWx0ID0ge1xuXHRcdFx0dHlwZTogXCJQYXRoXCIsXG5cdFx0XHRQYXRoOiB2YWx1ZS5wYXRoXG5cdFx0fTtcblx0fSBlbHNlIGlmICh2YWx1ZS50eXBlID09PSBcIkFubm90YXRpb25QYXRoXCIpIHtcblx0XHRyZXN1bHQgPSB7XG5cdFx0XHR0eXBlOiBcIkFubm90YXRpb25QYXRoXCIsXG5cdFx0XHRBbm5vdGF0aW9uUGF0aDogdmFsdWUudmFsdWVcblx0XHR9O1xuXHR9IGVsc2UgaWYgKHZhbHVlLnR5cGUgPT09IFwiUHJvcGVydHlQYXRoXCIpIHtcblx0XHRyZXN1bHQgPSB7XG5cdFx0XHR0eXBlOiBcIlByb3BlcnR5UGF0aFwiLFxuXHRcdFx0UHJvcGVydHlQYXRoOiB2YWx1ZS52YWx1ZVxuXHRcdH07XG5cdH0gZWxzZSBpZiAodmFsdWUudHlwZSA9PT0gXCJOYXZpZ2F0aW9uUHJvcGVydHlQYXRoXCIpIHtcblx0XHRyZXN1bHQgPSB7XG5cdFx0XHR0eXBlOiBcIk5hdmlnYXRpb25Qcm9wZXJ0eVBhdGhcIixcblx0XHRcdE5hdmlnYXRpb25Qcm9wZXJ0eVBhdGg6IHZhbHVlLnZhbHVlXG5cdFx0fTtcblx0fSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIFwiJFR5cGVcIikpIHtcblx0XHRyZXN1bHQgPSB7XG5cdFx0XHR0eXBlOiBcIlJlY29yZFwiLFxuXHRcdFx0UmVjb3JkOiByZXZlcnRDb2xsZWN0aW9uSXRlbVRvR2VuZXJpY1R5cGUocmVmZXJlbmNlcywgdmFsdWUpIGFzIEFubm90YXRpb25SZWNvcmRcblx0XHR9O1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHJldmVydENvbGxlY3Rpb25JdGVtVG9HZW5lcmljVHlwZShcblx0cmVmZXJlbmNlczogUmVmZXJlbmNlW10sXG5cdGNvbGxlY3Rpb25JdGVtOiBhbnlcbik6XG5cdHwgQW5ub3RhdGlvblJlY29yZFxuXHR8IHN0cmluZ1xuXHR8IFByb3BlcnR5UGF0aEV4cHJlc3Npb25cblx0fCBQYXRoRXhwcmVzc2lvblxuXHR8IE5hdmlnYXRpb25Qcm9wZXJ0eVBhdGhFeHByZXNzaW9uXG5cdHwgQW5ub3RhdGlvblBhdGhFeHByZXNzaW9uXG5cdHwgdW5kZWZpbmVkIHtcblx0aWYgKHR5cGVvZiBjb2xsZWN0aW9uSXRlbSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdHJldHVybiBjb2xsZWN0aW9uSXRlbTtcblx0fSBlbHNlIGlmICh0eXBlb2YgY29sbGVjdGlvbkl0ZW0gPT09IFwib2JqZWN0XCIpIHtcblx0XHRpZiAoY29sbGVjdGlvbkl0ZW0uaGFzT3duUHJvcGVydHkoXCIkVHlwZVwiKSkge1xuXHRcdFx0Ly8gQW5ub3RhdGlvbiBSZWNvcmRcblx0XHRcdGNvbnN0IG91dEl0ZW06IEFubm90YXRpb25SZWNvcmQgPSB7XG5cdFx0XHRcdHR5cGU6IGNvbGxlY3Rpb25JdGVtLiRUeXBlLFxuXHRcdFx0XHRwcm9wZXJ0eVZhbHVlczogW10gYXMgYW55W11cblx0XHRcdH07XG5cdFx0XHQvLyBDb3VsZCB2YWxpZGF0ZSBrZXlzIGFuZCB0eXBlIGJhc2VkIG9uICRUeXBlXG5cdFx0XHRPYmplY3Qua2V5cyhjb2xsZWN0aW9uSXRlbSkuZm9yRWFjaChjb2xsZWN0aW9uS2V5ID0+IHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGNvbGxlY3Rpb25LZXkgIT09IFwiJFR5cGVcIiAmJlxuXHRcdFx0XHRcdGNvbGxlY3Rpb25LZXkgIT09IFwidGVybVwiICYmXG5cdFx0XHRcdFx0Y29sbGVjdGlvbktleSAhPT0gXCJfX3NvdXJjZVwiICYmXG5cdFx0XHRcdFx0Y29sbGVjdGlvbktleSAhPT0gXCJxdWFsaWZpZXJcIiAmJlxuXHRcdFx0XHRcdGNvbGxlY3Rpb25LZXkgIT09IFwiQWN0aW9uVGFyZ2V0XCIgJiZcblx0XHRcdFx0XHRjb2xsZWN0aW9uS2V5ICE9PSBcImZ1bGx5UXVhbGlmaWVkTmFtZVwiICYmXG5cdFx0XHRcdFx0Y29sbGVjdGlvbktleSAhPT0gXCJhbm5vdGF0aW9uc1wiXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGNvbnN0IHZhbHVlID0gY29sbGVjdGlvbkl0ZW1bY29sbGVjdGlvbktleV07XG5cdFx0XHRcdFx0b3V0SXRlbS5wcm9wZXJ0eVZhbHVlcy5wdXNoKHtcblx0XHRcdFx0XHRcdG5hbWU6IGNvbGxlY3Rpb25LZXksXG5cdFx0XHRcdFx0XHR2YWx1ZTogcmV2ZXJ0VmFsdWVUb0dlbmVyaWNUeXBlKHJlZmVyZW5jZXMsIHZhbHVlKSBhcyBFeHByZXNzaW9uXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoY29sbGVjdGlvbktleSA9PT0gXCJhbm5vdGF0aW9uc1wiKSB7XG5cdFx0XHRcdFx0Y29uc3QgYW5ub3RhdGlvbnMgPSBjb2xsZWN0aW9uSXRlbVtjb2xsZWN0aW9uS2V5XTtcblx0XHRcdFx0XHRvdXRJdGVtLmFubm90YXRpb25zID0gW107XG5cdFx0XHRcdFx0T2JqZWN0LmtleXMoYW5ub3RhdGlvbnMpXG5cdFx0XHRcdFx0XHQuZmlsdGVyKGtleSA9PiBrZXkgIT09IFwiX2Fubm90YXRpb25zXCIpXG5cdFx0XHRcdFx0XHQuZm9yRWFjaChrZXkgPT4ge1xuXHRcdFx0XHRcdFx0XHRPYmplY3Qua2V5cyhhbm5vdGF0aW9uc1trZXldKS5mb3JFYWNoKHRlcm0gPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHBhcnNlZEFubm90YXRpb24gPSByZXZlcnRUZXJtVG9HZW5lcmljVHlwZShyZWZlcmVuY2VzLCBhbm5vdGF0aW9uc1trZXldW3Rlcm1dKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIXBhcnNlZEFubm90YXRpb24udGVybSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgdW5hbGlhc2VkVGVybSA9IHVuYWxpYXMocmVmZXJlbmNlcywgYCR7a2V5fS4ke3Rlcm19YCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAodW5hbGlhc2VkVGVybSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBxdWFsaWZpZWRTcGxpdCA9IHVuYWxpYXNlZFRlcm0uc3BsaXQoXCIjXCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRwYXJzZWRBbm5vdGF0aW9uLnRlcm0gPSBxdWFsaWZpZWRTcGxpdFswXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHF1YWxpZmllZFNwbGl0Lmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYXJzZWRBbm5vdGF0aW9uLnF1YWxpZmllciA9IHF1YWxpZmllZFNwbGl0WzFdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdG91dEl0ZW0uYW5ub3RhdGlvbnM/LnB1c2gocGFyc2VkQW5ub3RhdGlvbik7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIG91dEl0ZW07XG5cdFx0fSBlbHNlIGlmIChjb2xsZWN0aW9uSXRlbS50eXBlID09PSBcIlByb3BlcnR5UGF0aFwiKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcIlByb3BlcnR5UGF0aFwiLFxuXHRcdFx0XHRQcm9wZXJ0eVBhdGg6IGNvbGxlY3Rpb25JdGVtLnZhbHVlXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSBpZiAoY29sbGVjdGlvbkl0ZW0udHlwZSA9PT0gXCJBbm5vdGF0aW9uUGF0aFwiKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcIkFubm90YXRpb25QYXRoXCIsXG5cdFx0XHRcdEFubm90YXRpb25QYXRoOiBjb2xsZWN0aW9uSXRlbS52YWx1ZVxuXHRcdFx0fTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJldmVydFRlcm1Ub0dlbmVyaWNUeXBlKHJlZmVyZW5jZXM6IFJlZmVyZW5jZVtdLCBhbm5vdGF0aW9uOiBBbm5vdGF0aW9uVGVybTxhbnk+KTogRWRtQW5ub3RhdGlvbiB7XG5cdGNvbnN0IGJhc2VBbm5vdGF0aW9uID0ge1xuXHRcdHRlcm06IGFubm90YXRpb24udGVybSxcblx0XHRxdWFsaWZpZXI6IGFubm90YXRpb24ucXVhbGlmaWVyXG5cdH07XG5cdGlmIChBcnJheS5pc0FycmF5KGFubm90YXRpb24pKSB7XG5cdFx0Ly8gQ29sbGVjdGlvblxuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5iYXNlQW5ub3RhdGlvbixcblx0XHRcdGNvbGxlY3Rpb246IGFubm90YXRpb24ubWFwKGFubm8gPT4gcmV2ZXJ0Q29sbGVjdGlvbkl0ZW1Ub0dlbmVyaWNUeXBlKHJlZmVyZW5jZXMsIGFubm8pKSBhcyBhbnlbXVxuXHRcdH07XG5cdH0gZWxzZSBpZiAoYW5ub3RhdGlvbi5oYXNPd25Qcm9wZXJ0eShcIiRUeXBlXCIpKSB7XG5cdFx0cmV0dXJuIHsgLi4uYmFzZUFubm90YXRpb24sIHJlY29yZDogcmV2ZXJ0Q29sbGVjdGlvbkl0ZW1Ub0dlbmVyaWNUeXBlKHJlZmVyZW5jZXMsIGFubm90YXRpb24pIGFzIGFueSB9O1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiB7IC4uLmJhc2VBbm5vdGF0aW9uLCB2YWx1ZTogcmV2ZXJ0VmFsdWVUb0dlbmVyaWNUeXBlKHJlZmVyZW5jZXMsIGFubm90YXRpb24pIH07XG5cdH1cbn1cbiJdfQ==